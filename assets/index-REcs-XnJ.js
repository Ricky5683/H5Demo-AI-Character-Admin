import{r as m,c as Xe,g as Je,e as Ze,u as F,f as Qe,R as Te,h as Ce,i as et,j as k,N as X,H as tt}from"./vendor-BT3SA_Mp.js";import{r as rt,T as $,F as A,C,I as R,R as J,a as st,B as w,s as I,L as me,M as nt,b as at,c as ot,D as it,A as Pe,d as lt,e as ct,f as dt,g as xe,h as N,E as ye,i as le,j as ut,P as Z,k as ge,l as ke,m as he,n as V,S as Y,o as Ee,p as pt,q as mt,t as ht,U as Re,u as Oe,v as K,w as z,x as ce,y as ft,z as xt,G as $e,H as gt,J as yt}from"./antd-uuZQaa5X.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}})();var Le={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt=m,vt=Symbol.for("react.element"),bt=Symbol.for("react.fragment"),At=Object.prototype.hasOwnProperty,It=jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wt={key:!0,ref:!0,__self:!0,__source:!0};function De(t,r,o){var n,a={},i=null,c=null;o!==void 0&&(i=""+o),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(c=r.ref);for(n in r)At.call(r,n)&&!wt.hasOwnProperty(n)&&(a[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)a[n]===void 0&&(a[n]=r[n]);return{$$typeof:vt,type:t,key:i,ref:c,props:a,_owner:It.current}}Q.Fragment=bt;Q.jsx=De;Q.jsxs=De;Le.exports=Q;var e=Le.exports,fe={},je=Xe;fe.createRoot=je.createRoot,fe.hydrateRoot=je.hydrateRoot;var ee={},Me={exports:{}};(function(t){function r(o){return o&&o.__esModule?o:{default:o}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Me);var te=Me.exports,re={};Object.defineProperty(re,"__esModule",{value:!0});re.default=void 0;var St={items_per_page:"Êù°/È°µ",jump_to:"Ë∑≥Ëá≥",jump_to_confirm:"Á°ÆÂÆö",page:"È°µ",prev_page:"‰∏ä‰∏ÄÈ°µ",next_page:"‰∏ã‰∏ÄÈ°µ",prev_5:"ÂêëÂâç 5 È°µ",next_5:"ÂêëÂêé 5 È°µ",prev_3:"ÂêëÂâç 3 È°µ",next_3:"ÂêëÂêé 3 È°µ",page_size:"È°µÁ†Å"};re.default=St;var se={},B={},ne={},ze={exports:{}},Ne={exports:{}},Ye={exports:{}},Fe={exports:{}};(function(t){function r(o){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Fe);var Ue=Fe.exports,He={exports:{}};(function(t){var r=Ue.default;function o(n,a){if(r(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var c=i.call(n,a||"default");if(r(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports})(He);var _t=He.exports;(function(t){var r=Ue.default,o=_t;function n(a){var i=o(a,"string");return r(i)=="symbol"?i:i+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(Ye);var Tt=Ye.exports;(function(t){var r=Tt;function o(n,a,i){return(a=r(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports})(Ne);var Ct=Ne.exports;(function(t){var r=Ct;function o(a,i){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(a);i&&(p=p.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),c.push.apply(c,p)}return c}function n(a){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?o(Object(c),!0).forEach(function(p){r(a,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(p){Object.defineProperty(a,p,Object.getOwnPropertyDescriptor(c,p))})}return a}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(ze);var Pt=ze.exports,ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.commonLocale=void 0;ae.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var kt=te.default;Object.defineProperty(ne,"__esModule",{value:!0});ne.default=void 0;var ve=kt(Pt),Et=ae,Rt=(0,ve.default)((0,ve.default)({},Et.commonLocale),{},{locale:"zh_CN",today:"‰ªäÂ§©",now:"Ê≠§Âàª",backToToday:"ËøîÂõû‰ªäÂ§©",ok:"Á°ÆÂÆö",timeSelect:"ÈÄâÊã©Êó∂Èó¥",dateSelect:"ÈÄâÊã©Êó•Êúü",weekSelect:"ÈÄâÊã©Âë®",clear:"Ê∏ÖÈô§",week:"Âë®",month:"Êúà",year:"Âπ¥",previousMonth:"‰∏ä‰∏™Êúà (ÁøªÈ°µ‰∏äÈîÆ)",nextMonth:"‰∏ã‰∏™Êúà (ÁøªÈ°µ‰∏ãÈîÆ)",monthSelect:"ÈÄâÊã©Êúà‰ªΩ",yearSelect:"ÈÄâÊã©Âπ¥‰ªΩ",decadeSelect:"ÈÄâÊã©Âπ¥‰ª£",previousYear:"‰∏ä‰∏ÄÂπ¥ (ControlÈîÆÂä†Â∑¶ÊñπÂêëÈîÆ)",nextYear:"‰∏ã‰∏ÄÂπ¥ (ControlÈîÆÂä†Âè≥ÊñπÂêëÈîÆ)",previousDecade:"‰∏ä‰∏ÄÂπ¥‰ª£",nextDecade:"‰∏ã‰∏ÄÂπ¥‰ª£",previousCentury:"‰∏ä‰∏Ä‰∏ñÁ∫™",nextCentury:"‰∏ã‰∏Ä‰∏ñÁ∫™",yearFormat:"YYYYÂπ¥",cellDateFormat:"D",monthBeforeYear:!1});ne.default=Rt;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;const Ot={placeholder:"ËØ∑ÈÄâÊã©Êó∂Èó¥",rangePlaceholder:["ÂºÄÂßãÊó∂Èó¥","ÁªìÊùüÊó∂Èó¥"]};G.default=Ot;var Be=te.default;Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var $t=Be(ne),Lt=Be(G);const Ge={lang:Object.assign({placeholder:"ËØ∑ÈÄâÊã©Êó•Êúü",yearPlaceholder:"ËØ∑ÈÄâÊã©Âπ¥‰ªΩ",quarterPlaceholder:"ËØ∑ÈÄâÊã©Â≠£Â∫¶",monthPlaceholder:"ËØ∑ÈÄâÊã©Êúà‰ªΩ",weekPlaceholder:"ËØ∑ÈÄâÊã©Âë®",rangePlaceholder:["ÂºÄÂßãÊó•Êúü","ÁªìÊùüÊó•Êúü"],rangeYearPlaceholder:["ÂºÄÂßãÂπ¥‰ªΩ","ÁªìÊùüÂπ¥‰ªΩ"],rangeMonthPlaceholder:["ÂºÄÂßãÊúà‰ªΩ","ÁªìÊùüÊúà‰ªΩ"],rangeQuarterPlaceholder:["ÂºÄÂßãÂ≠£Â∫¶","ÁªìÊùüÂ≠£Â∫¶"],rangeWeekPlaceholder:["ÂºÄÂßãÂë®","ÁªìÊùüÂë®"]},$t.default),timePickerLocale:Object.assign({},Lt.default)};Ge.lang.ok="Á°ÆÂÆö";B.default=Ge;var Dt=te.default;Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var Mt=Dt(B);se.default=Mt.default;var oe=te.default;Object.defineProperty(ee,"__esModule",{value:!0});ee.default=void 0;var zt=oe(re),Nt=oe(se),Yt=oe(B),Ft=oe(G);const P="${label}‰∏çÊòØ‰∏Ä‰∏™ÊúâÊïàÁöÑ${type}",Ut={locale:"zh-cn",Pagination:zt.default,DatePicker:Yt.default,TimePicker:Ft.default,Calendar:Nt.default,global:{placeholder:"ËØ∑ÈÄâÊã©",close:"ÂÖ≥Èó≠"},Table:{filterTitle:"Á≠õÈÄâ",filterConfirm:"Á°ÆÂÆö",filterReset:"ÈáçÁΩÆ",filterEmptyText:"Êó†Á≠õÈÄâÈ°π",filterCheckAll:"ÂÖ®ÈÄâ",filterSearchPlaceholder:"Âú®Á≠õÈÄâÈ°π‰∏≠ÊêúÁ¥¢",emptyText:"ÊöÇÊó†Êï∞ÊçÆ",selectAll:"ÂÖ®ÈÄâÂΩìÈ°µ",selectInvert:"ÂèçÈÄâÂΩìÈ°µ",selectNone:"Ê∏ÖÁ©∫ÊâÄÊúâ",selectionAll:"ÂÖ®ÈÄâÊâÄÊúâ",sortTitle:"ÊéíÂ∫è",expand:"Â±ïÂºÄË°å",collapse:"ÂÖ≥Èó≠Ë°å",triggerDesc:"ÁÇπÂáªÈôçÂ∫è",triggerAsc:"ÁÇπÂáªÂçáÂ∫è",cancelSort:"ÂèñÊ∂àÊéíÂ∫è"},Modal:{okText:"Á°ÆÂÆö",cancelText:"ÂèñÊ∂à",justOkText:"Áü•ÈÅì‰∫Ü"},Tour:{Next:"‰∏ã‰∏ÄÊ≠•",Previous:"‰∏ä‰∏ÄÊ≠•",Finish:"ÁªìÊùüÂØºËßà"},Popconfirm:{cancelText:"ÂèñÊ∂à",okText:"Á°ÆÂÆö"},Transfer:{titles:["",""],searchPlaceholder:"ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÜÖÂÆπ",itemUnit:"È°π",itemsUnit:"È°π",remove:"Âà†Èô§",selectCurrent:"ÂÖ®ÈÄâÂΩìÈ°µ",removeCurrent:"Âà†Èô§ÂΩìÈ°µ",selectAll:"ÂÖ®ÈÄâÊâÄÊúâ",deselectAll:"ÂèñÊ∂àÂÖ®ÈÄâ",removeAll:"Âà†Èô§ÂÖ®ÈÉ®",selectInvert:"ÂèçÈÄâÂΩìÈ°µ"},Upload:{uploading:"Êñá‰ª∂‰∏ä‰º†‰∏≠",removeFile:"Âà†Èô§Êñá‰ª∂",uploadError:"‰∏ä‰º†ÈîôËØØ",previewFile:"È¢ÑËßàÊñá‰ª∂",downloadFile:"‰∏ãËΩΩÊñá‰ª∂"},Empty:{description:"ÊöÇÊó†Êï∞ÊçÆ"},Icon:{icon:"ÂõæÊ†á"},Text:{edit:"ÁºñËæë",copy:"Â§çÂà∂",copied:"Â§çÂà∂ÊàêÂäü",expand:"Â±ïÂºÄ",collapse:"Êî∂Ëµ∑"},Form:{optional:"ÔºàÂèØÈÄâÔºâ",defaultValidateMessages:{default:"Â≠óÊÆµÈ™åËØÅÈîôËØØ${label}",required:"ËØ∑ËæìÂÖ•${label}",enum:"${label}ÂøÖÈ°ªÊòØÂÖ∂‰∏≠‰∏Ä‰∏™[${enum}]",whitespace:"${label}‰∏çËÉΩ‰∏∫Á©∫Â≠óÁ¨¶",date:{format:"${label}Êó•ÊúüÊ†ºÂºèÊó†Êïà",parse:"${label}‰∏çËÉΩËΩ¨Êç¢‰∏∫Êó•Êúü",invalid:"${label}ÊòØ‰∏Ä‰∏™Êó†ÊïàÊó•Êúü"},types:{string:P,method:P,array:P,object:P,number:P,date:P,boolean:P,integer:P,float:P,regexp:P,email:P,url:P,hex:P},string:{len:"${label}È°ª‰∏∫${len}‰∏™Â≠óÁ¨¶",min:"${label}ÊúÄÂ∞ë${min}‰∏™Â≠óÁ¨¶",max:"${label}ÊúÄÂ§ö${max}‰∏™Â≠óÁ¨¶",range:"${label}È°ªÂú®${min}-${max}Â≠óÁ¨¶‰πãÈó¥"},number:{len:"${label}ÂøÖÈ°ªÁ≠â‰∫é${len}",min:"${label}ÊúÄÂ∞èÂÄº‰∏∫${min}",max:"${label}ÊúÄÂ§ßÂÄº‰∏∫${max}",range:"${label}È°ªÂú®${min}-${max}‰πãÈó¥"},array:{len:"È°ª‰∏∫${len}‰∏™${label}",min:"ÊúÄÂ∞ë${min}‰∏™${label}",max:"ÊúÄÂ§ö${max}‰∏™${label}",range:"${label}Êï∞ÈáèÈ°ªÂú®${min}-${max}‰πãÈó¥"},pattern:{mismatch:"${label}‰∏éÊ®°Âºè‰∏çÂåπÈÖç${pattern}"}}},Image:{preview:"È¢ÑËßà"},QRCode:{expired:"‰∫åÁª¥Á†ÅËøáÊúü",refresh:"ÁÇπÂáªÂà∑Êñ∞",scanned:"Â∑≤Êâ´Êèè"},ColorPicker:{presetEmpty:"ÊöÇÊó†",transparent:"Êó†Ëâ≤",singleColor:"ÂçïËâ≤",gradientColor:"Ê∏êÂèòËâ≤"}};ee.default=Ut;var Ht=ee;const Bt=Je(Ht);var Gt={exports:{}};(function(t,r){(function(o,n){t.exports=n(rt())})(Ze,function(o){function n(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var a=n(o),i={name:"zh-cn",weekdays:"ÊòüÊúüÊó•_ÊòüÊúü‰∏Ä_ÊòüÊúü‰∫å_ÊòüÊúü‰∏â_ÊòüÊúüÂõõ_ÊòüÊúü‰∫î_ÊòüÊúüÂÖ≠".split("_"),weekdaysShort:"Âë®Êó•_Âë®‰∏Ä_Âë®‰∫å_Âë®‰∏â_Âë®Âõõ_Âë®‰∫î_Âë®ÂÖ≠".split("_"),weekdaysMin:"Êó•_‰∏Ä_‰∫å_‰∏â_Âõõ_‰∫î_ÂÖ≠".split("_"),months:"‰∏ÄÊúà_‰∫åÊúà_‰∏âÊúà_ÂõõÊúà_‰∫îÊúà_ÂÖ≠Êúà_‰∏ÉÊúà_ÂÖ´Êúà_‰πùÊúà_ÂçÅÊúà_ÂçÅ‰∏ÄÊúà_ÂçÅ‰∫åÊúà".split("_"),monthsShort:"1Êúà_2Êúà_3Êúà_4Êúà_5Êúà_6Êúà_7Êúà_8Êúà_9Êúà_10Êúà_11Êúà_12Êúà".split("_"),ordinal:function(c,p){return p==="W"?c+"Âë®":c+"Êó•"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYÂπ¥MÊúàDÊó•",LLL:"YYYYÂπ¥MÊúàDÊó•AhÁÇπmmÂàÜ",LLLL:"YYYYÂπ¥MÊúàDÊó•ddddAhÁÇπmmÂàÜ",l:"YYYY/M/D",ll:"YYYYÂπ¥MÊúàDÊó•",lll:"YYYYÂπ¥MÊúàDÊó• HH:mm",llll:"YYYYÂπ¥MÊúàDÊó•dddd HH:mm"},relativeTime:{future:"%sÂÜÖ",past:"%sÂâç",s:"Âá†Áßí",m:"1 ÂàÜÈíü",mm:"%d ÂàÜÈíü",h:"1 Â∞èÊó∂",hh:"%d Â∞èÊó∂",d:"1 Â§©",dd:"%d Â§©",M:"1 ‰∏™Êúà",MM:"%d ‰∏™Êúà",y:"1 Âπ¥",yy:"%d Âπ¥"},meridiem:function(c,p){var u=100*c+p;return u<600?"ÂáåÊô®":u<900?"Êó©‰∏ä":u<1100?"‰∏äÂçà":u<1300?"‰∏≠Âçà":u<1800?"‰∏ãÂçà":"Êôö‰∏ä"}};return a.default.locale(i,null,!0),i})})(Gt);const qe=m.createContext(void 0),ie=()=>{const t=m.useContext(qe);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},qt=({children:t})=>{const[r,o]=m.useState(null),[n,a]=m.useState(!1);m.useEffect(()=>{const u=localStorage.getItem("auth_user"),d=localStorage.getItem("auth_token");if(u&&d)try{const y=JSON.parse(u);o(y),a(!0)}catch(y){console.error("Failed to parse saved user data:",y),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_token")}},[]);const p={user:r,isAuthenticated:n,login:async(u,d)=>{if(await new Promise(y=>setTimeout(y,1e3)),u==="Admin"&&d==="5173rongcloud"){const y={id:"1",username:"Admin"},s="mock_jwt_token_"+Date.now();return localStorage.setItem("auth_user",JSON.stringify(y)),localStorage.setItem("auth_token",s),o(y),a(!0),!0}return!1},logout:()=>{localStorage.removeItem("auth_user"),localStorage.removeItem("auth_token"),o(null),a(!1)}};return e.jsx(qe.Provider,{value:p,children:t})},{Title:Wt,Text:Vt}=$,Kt=()=>{const[t]=A.useForm(),[r,o]=m.useState(!1),n=F(),{login:a}=ie(),i=async c=>{o(!0);try{await a(c.username,c.password)?(I.success("ÁôªÂΩïÊàêÂäüÔºÅ"),n("/simple")):I.error("Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ")}catch(p){console.error("Login error:",p),I.error("ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï")}finally{o(!1)}};return e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px"},children:e.jsxs(C,{style:{width:"100%",maxWidth:400,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",borderRadius:"12px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[e.jsx(Wt,{level:2,style:{color:"#1890ff",marginBottom:8},children:"AIËßíËâ≤ÁÆ°ÁêÜÂêéÂè∞"}),e.jsx(Vt,{type:"secondary",children:"H5 Demo ÁÆ°ÁêÜÁ≥ªÁªü"})]}),e.jsxs(A,{form:t,name:"login",layout:"vertical",onFinish:i,autoComplete:"off",size:"large",children:[e.jsx(A.Item,{name:"username",label:"Áî®Êà∑Âêç",rules:[{required:!0,message:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"},{min:2,message:"Áî®Êà∑ÂêçËá≥Â∞ë2‰∏™Â≠óÁ¨¶"}],children:e.jsx(R,{prefix:e.jsx(J,{}),placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"})}),e.jsx(A.Item,{name:"password",label:"ÂØÜÁ†Å",rules:[{required:!0,message:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},{min:6,message:"ÂØÜÁ†ÅËá≥Â∞ë6‰∏™Â≠óÁ¨¶"}],children:e.jsx(R.Password,{prefix:e.jsx(st,{}),placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"})}),e.jsx(A.Item,{children:e.jsx(w,{type:"primary",htmlType:"submit",loading:r,block:!0,style:{height:48,fontSize:16,borderRadius:8},children:r?"ÁôªÂΩï‰∏≠...":"ÁôªÂΩï"})})]}),e.jsxs("div",{style:{marginTop:24,padding:16,background:"#f8f9fa",borderRadius:8,fontSize:12,color:"#666"},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:"bold"},children:"Demo ÊµãËØïË¥¶Âè∑Ôºö"}),e.jsx("div",{children:"Áî®Êà∑ÂêçÔºöAdmin"}),e.jsx("div",{children:"ÂØÜÁ†ÅÔºö5173rongcloud"})]})]})})},Xt=[{key:"zh",label:"‰∏≠Êñá",flag:"üá®üá≥"},{key:"en",label:"English",flag:"üá∫üá∏"},{key:"ar",label:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©",flag:"üá∏üá¶"}],We=[{value:"male",label:"Áî∑ÊÄß"},{value:"female",label:"Â•≥ÊÄß"},{value:"other",label:"ÂÖ∂‰ªñ"}],Ve=[{value:"public",label:"ÂÖ¨ÂºÄ"},{value:"private",label:"ÁßÅÊúâ"}],Jt={DEFAULT_PAGE_SIZE:10,PAGE_SIZE_OPTIONS:["10","20","50","100"],SHOW_SIZE_CHANGER:!0,SHOW_QUICK_JUMPER:!0},H={MAX_FILE_SIZE:5*1024*1024,ACCEPTED_IMAGE_TYPES:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],MAX_DISPLAY_IMAGES:6},O={CHARACTER:{NICKNAME:{required:!0,message:"ËØ∑ËæìÂÖ•ËßíËâ≤ÊòµÁß∞"},REGION:{required:!0,message:"ËØ∑ËæìÂÖ•ËßíËâ≤Âú∞Âå∫"},PROFESSION:{required:!0,message:"ËØ∑ËæìÂÖ•ËßíËâ≤ËÅå‰∏ö"},INTRODUCTION:{required:!0,message:"ËØ∑ËæìÂÖ•ËßíËâ≤‰ªãÁªç"},SYSTEM_PROMPT:{required:!0,message:"ËØ∑ËæìÂÖ•Á≥ªÁªüÊèêÁ§∫ËØç"},AGE:{required:!0,type:"number",min:1,max:200,message:"Âπ¥ÈæÑÂøÖÈ°ªÂú®1-200‰πãÈó¥"}},TEMPLATE:{NAME:{required:!0,message:"ËØ∑ËæìÂÖ•Ê®°ÊùøÂêçÁß∞"},CONTENT:{required:!0,message:"ËØ∑ËæìÂÖ•Ê®°ÊùøÂÜÖÂÆπ",max:15e3}},PHONE:{PATTERN:/^(\+\d{1,3}[- ]?)?\d{10,15}$/,MESSAGE:"ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊâãÊú∫Âè∑Á†ÅÔºàÊîØÊåÅÂõΩÈôÖÊ†ºÂºèÔºåÂ¶Ç+86 13800138000Ôºâ"}},W={CHARACTER:{AGE:25,GENDER:"female",PERMISSION:"public",AVATAR:"https://images.unsplash.com/photo-1494790108755-2616b612b742?w=150&h=150&fit=crop&crop=face"}},Zt=[{key:"characters",label:"AIËßíËâ≤ÁÆ°ÁêÜ",icon:"UserOutlined",path:"/characters"},{key:"templates",label:"Ê®°ÊùøÁÆ°ÁêÜ",icon:"FileTextOutlined",path:"/templates"},{key:"config",label:"ÈÄöÁî®ÈÖçÁΩÆ",icon:"SettingOutlined",path:"/config"}],{Header:Qt,Sider:er,Content:tr}=me,rr=({children:t})=>{const[r,o]=m.useState(!1),n=F(),a=Qe(),{user:i,logout:c}=ie(),p=()=>{const h=a.hash||window.location.hash,j=a.pathname,b=h?h.replace("#",""):j;return b.includes("/characters")?"characters":b.includes("/templates")?"templates":b.includes("/config")?"config":"characters"},u=({key:h})=>{const j=Zt.find(b=>b.key===h);j&&n(j.path)},d=()=>{c(),n("/login")},y=[{key:"logout",icon:e.jsx(dt,{}),label:"ÈÄÄÂá∫ÁôªÂΩï",onClick:d}],s=[{key:"characters",icon:e.jsx(J,{}),label:"AIËßíËâ≤ÁÆ°ÁêÜ"},{key:"templates",icon:e.jsx(lt,{}),label:"Ê®°ÊùøÁÆ°ÁêÜ"},{key:"config",icon:e.jsx(ct,{}),label:"ÈÄöÁî®ÈÖçÁΩÆ"}];return e.jsxs(me,{style:{minHeight:"100vh"},children:[e.jsxs(er,{trigger:null,collapsible:!0,collapsed:r,theme:"dark",children:[e.jsx("div",{style:{height:64,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid #404040"},children:r?"AI":"AIËßíËâ≤ÁÆ°ÁêÜÂêéÂè∞"}),e.jsx(nt,{theme:"dark",mode:"inline",selectedKeys:[p()],items:s,onClick:u,style:{borderRight:0}})]}),e.jsxs(me,{children:[e.jsxs(Qt,{style:{padding:"0 24px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #f0f0f0"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx(w,{type:"text",icon:r?e.jsx(at,{}):e.jsx(ot,{}),onClick:()=>o(!r),style:{fontSize:"16px",width:64,height:64}})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("span",{children:["Ê¨¢ËøéÔºå",i==null?void 0:i.username]}),e.jsx(it,{menu:{items:y},placement:"bottomRight",arrow:!0,children:e.jsx(Pe,{style:{backgroundColor:"#1890ff",cursor:"pointer"},icon:e.jsx(J,{})})})]})]}),e.jsx(tr,{style:{margin:"24px",padding:"24px",background:"#fff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:t})]})]})},sr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let E=(t=21)=>{let r="",o=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)r+=sr[o[t]&63];return r};const S=(t,r,o)=>({zh:t,en:r,ar:o}),nr=()=>[{id:E(),botId:`bot_${E()}`,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b742?w=150&h=150&fit=crop&crop=face",gender:"female",age:25,permission:"public",nickname:S("Â∞èÈõÖÂä©Êâã","Xiaoya Assistant","ŸÖÿ≥ÿßÿπÿØ ÿ¥ŸäÿßŸàŸäÿß"),region:S("Âåó‰∫¨","Beijing","ÿ®ŸÉŸäŸÜ"),profession:S("AIÂä©Êâã","AI Assistant","ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä"),introduction:S("ÊàëÊòØÂ∞èÈõÖÔºå‰∏Ä‰∏™ÂèãÂñÑÁöÑAIÂä©ÊâãÔºåÂèØ‰ª•Â∏ÆÂä©ÊÇ®Ëß£Á≠îÈóÆÈ¢òÂíåÊèê‰æõÂª∫ËÆÆ„ÄÇ","I am Xiaoya, a friendly AI assistant who can help answer questions and provide advice.","ÿ£ŸÜÿß ÿ¥ŸäÿßŸàŸäÿßÿå ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä ŸàÿØŸàÿØ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸâ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© Ÿàÿ™ŸÇÿØŸäŸÖ ÿßŸÑŸÜÿµÿßÿ¶ÿ≠."),tags:{zh:["ÂèãÂñÑ","‰∏ì‰∏ö","È´òÊïà"],en:["Friendly","Professional","Efficient"],ar:["ŸàÿØŸàÿØ","ŸÖÿ≠ÿ™ÿ±ŸÅ","ŸÅÿπÿßŸÑ"]},greeting:S("‰Ω†Â•ΩÔºÅÊàëÊòØÂ∞èÈõÖÔºåÂæàÈ´òÂÖ¥‰∏∫ÊÇ®ÊúçÂä°ÔºÅÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÂä©ÊÇ®ÁöÑÂêóÔºü","Hello! I am Xiaoya, nice to serve you! How can I help you?","ŸÖÿ±ÿ≠ÿ®ÿß! ÿ£ŸÜÿß ÿ¥ŸäÿßŸàŸäÿßÿå ŸÖŸÜ ÿØŸàÿßÿπŸä ÿ≥ÿ±Ÿàÿ±Ÿä ÿÆÿØŸÖÿ™ŸÉ! ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉÿü"),displayImages:["https://images.unsplash.com/photo-1494790108755-2616b612b742?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop"],systemPrompt:"You are Xiaoya, a helpful and friendly AI assistant. Always be polite, professional, and try your best to help users with their questions.",whitelist:["13800138000","13900139000"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString()},{id:E(),botId:`bot_${E()}`,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",gender:"male",age:30,permission:"private",nickname:S("ÊäÄÊúØ‰∏ìÂÆ∂Tom","Tech Expert Tom","ÿÆÿ®Ÿäÿ± ÿßŸÑÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß ÿ™ŸàŸÖ"),region:S("‰∏äÊµ∑","Shanghai","ÿ¥ŸÜÿ∫ŸáÿßŸä"),profession:S("ÊäÄÊúØÈ°æÈóÆ","Technical Consultant","ŸÖÿ≥ÿ™ÿ¥ÿßÿ± ÿ™ŸÇŸÜŸä"),introduction:S("ÊàëÊòØTomÔºå‰∏ìÊ≥®‰∫éÊäÄÊúØÈ¢ÜÂüüÁöÑAIÂä©ÊâãÔºåÊìÖÈïøÁºñÁ®ã„ÄÅÊû∂ÊûÑËÆæËÆ°ÂíåÊäÄÊúØÂí®ËØ¢„ÄÇ","I am Tom, an AI assistant focused on technology, specializing in programming, architecture design, and technical consulting.","ÿ£ŸÜÿß ÿ™ŸàŸÖÿå ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä Ÿäÿ±ŸÉÿ≤ ÿπŸÑŸâ ÿßŸÑÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿßÿå ŸÖÿ™ÿÆÿµÿµ ŸÅŸä ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© Ÿàÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿ®ŸÜŸäÿ© ÿßŸÑÿ™ÿ≠ÿ™Ÿäÿ© ŸàÿßŸÑÿßÿ≥ÿ™ÿ¥ÿßÿ±ÿßÿ™ ÿßŸÑÿ™ŸÇŸÜŸäÿ©."),tags:{zh:["ÊäÄÊúØ","ÁºñÁ®ã","Êû∂ÊûÑ","‰∏ì‰∏ö"],en:["Technology","Programming","Architecture","Professional"],ar:["ÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß","ÿ®ÿ±ŸÖÿ¨ÿ©","ŸáŸÜÿØÿ≥ÿ© ŸÖÿπŸÖÿßÿ±Ÿäÿ©","ŸÖÿ≠ÿ™ÿ±ŸÅ"]},greeting:S("ÊÇ®Â•ΩÔºÅÊàëÊòØTomÔºåÊÇ®ÁöÑÊäÄÊúØÈ°æÈóÆ„ÄÇÊúâ‰ªÄ‰πàÊäÄÊúØÈóÆÈ¢òÈúÄË¶ÅÊé¢ËÆ®ÂêóÔºü","Hello! I am Tom, your technical consultant. Any technical questions to discuss?","ŸÖÿ±ÿ≠ÿ®ÿß! ÿ£ŸÜÿß ÿ™ŸàŸÖÿå ŸÖÿ≥ÿ™ÿ¥ÿßÿ±ŸÉ ÿßŸÑÿ™ŸÇŸÜŸä. ŸáŸÑ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ™ŸÇŸÜŸäÿ© ŸÑŸÑŸÖŸÜÿßŸÇÿ¥ÿ©ÿü"),displayImages:["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1560250097-0b93528c311a?w=300&h=400&fit=crop"],systemPrompt:"You are Tom, a technical expert AI assistant. You specialize in programming, software architecture, and providing technical solutions. Be precise, helpful, and professional.",whitelist:["13700137000","13600136000","13500135000"],createdAt:new Date("2024-01-10").toISOString(),updatedAt:new Date("2024-01-18").toISOString()},{id:E(),botId:`bot_${E()}`,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",gender:"female",age:28,permission:"public",nickname:S("ÂàõÊÑèËÆæËÆ°Â∏àLily","Creative Designer Lily","ÿßŸÑŸÖÿµŸÖŸÖÿ© ÿßŸÑÿ•ÿ®ÿØÿßÿπŸäÿ© ŸÑŸäŸÑŸä"),region:S("Ê∑±Âú≥","Shenzhen","ÿ¥ŸÜÿ™ÿ¥ŸÜ"),profession:S("UI/UXËÆæËÆ°Â∏à","UI/UX Designer","ŸÖÿµŸÖŸÖ Ÿàÿßÿ¨Ÿáÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"),introduction:S("ÊàëÊòØLilyÔºå‰∏ì‰∏öÁöÑUI/UXËÆæËÆ°Â∏àÔºåÁÉ≠Áà±ÂàõÊÑèËÆæËÆ°ÔºåÂèØ‰ª•‰∏∫ÊÇ®Êèê‰æõËÆæËÆ°Âª∫ËÆÆÂíåÂàõÊÑèÁÅµÊÑü„ÄÇ","I am Lily, a professional UI/UX designer who loves creative design and can provide design advice and creative inspiration.","ÿ£ŸÜÿß ŸÑŸäŸÑŸäÿå ŸÖÿµŸÖŸÖÿ© Ÿàÿßÿ¨Ÿáÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿ≠ÿ™ÿ±ŸÅÿ© ÿ£ÿ≠ÿ® ÿßŸÑÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿ•ÿ®ÿØÿßÿπŸä ŸàŸäŸÖŸÉŸÜŸÜŸä ÿ™ŸÇÿØŸäŸÖ ŸÜÿµÿßÿ¶ÿ≠ ÿßŸÑÿ™ÿµŸÖŸäŸÖ ŸàÿßŸÑÿ•ŸÑŸáÿßŸÖ ÿßŸÑÿ•ÿ®ÿØÿßÿπŸä."),tags:{zh:["ÂàõÊÑè","ËÆæËÆ°","ÁæéÂ≠¶","Áî®Êà∑‰ΩìÈ™å"],en:["Creative","Design","Aesthetic","User Experience"],ar:["ÿ•ÿ®ÿØÿßÿπŸä","ÿ™ÿµŸÖŸäŸÖ","ÿ¨ŸÖÿßŸÑŸä","ÿ™ÿ¨ÿ±ÿ®ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"]},greeting:S("Âó®ÔºÅÊàëÊòØLilyÔºåËÆ©Êàë‰ª¨‰∏ÄËµ∑ÂàõÈÄ†ÁæéÂ•ΩÁöÑËÆæËÆ°ÂêßÔºÅÊúâ‰ªÄ‰πàËÆæËÆ°ÈúÄÊ±ÇÂêóÔºü","Hi! I am Lily, let's create beautiful designs together! Any design needs?","ŸÖÿ±ÿ≠ÿ®ÿß! ÿ£ŸÜÿß ŸÑŸäŸÑŸäÿå ÿØÿπŸàŸÜÿß ŸÜŸÜÿ¥ÿ¶ ÿ™ÿµÿßŸÖŸäŸÖ ÿ¨ŸÖŸäŸÑÿ© ŸÖÿπÿß! ŸáŸÑ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ ÿ™ÿµŸÖŸäŸÖŸäÿ©ÿü"),displayImages:["https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=300&h=400&fit=crop"],systemPrompt:"You are Lily, a creative UI/UX designer AI assistant. You are passionate about design, aesthetics, and user experience. Provide creative and practical design advice.",whitelist:[],createdAt:new Date("2024-01-12").toISOString(),updatedAt:new Date("2024-01-22").toISOString()}],ar=()=>[{id:E(),name:S("Ê¨¢ËøéÊ∂àÊÅØÊ®°Êùø","Welcome Message Template","ŸÇÿßŸÑÿ® ÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿ™ÿ±ÿ≠Ÿäÿ®"),description:S("Áî®‰∫éÊñ∞Áî®Êà∑ÁöÑÊ¨¢ËøéÊ∂àÊÅØÊ®°Êùø","Welcome message template for new users","ŸÇÿßŸÑÿ® ÿ±ÿ≥ÿßŸÑÿ© ÿ™ÿ±ÿ≠Ÿäÿ® ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ÿßŸÑÿ¨ÿØÿØ"),content:S("Ê¨¢ËøéÊù•Âà∞Êàë‰ª¨ÁöÑÂπ≥Âè∞ÔºÅÊàë‰ª¨ÂæàÈ´òÂÖ¥ÊÇ®ÁöÑÂä†ÂÖ•„ÄÇÂ¶ÇÊûúÊÇ®Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåËØ∑ÈöèÊó∂ËÅîÁ≥ªÊàë‰ª¨„ÄÇ","Welcome to our platform! We are glad to have you join us. If you have any questions, please feel free to contact us.","ŸÖÿ±ÿ≠ÿ®ÿß ÿ®ŸÉ ŸÅŸä ŸÖŸÜÿµÿ™ŸÜÿß! ŸÜÿ≠ŸÜ ÿ≥ÿπÿØÿßÿ° ŸÑÿßŸÜÿ∂ŸÖÿßŸÖŸÉ ÿ•ŸÑŸäŸÜÿß. ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿ£ÿ≥ÿ¶ŸÑÿ©ÿå ŸÑÿß ÿ™ÿ™ÿ±ÿØÿØ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÜÿß."),category:"welcome",isActive:!0,createdAt:new Date("2024-01-08").toISOString(),updatedAt:new Date("2024-01-15").toISOString()},{id:E(),name:S("ÊäÄÊúØÊîØÊåÅÊ®°Êùø","Technical Support Template","ŸÇÿßŸÑÿ® ÿßŸÑÿØÿπŸÖ ÿßŸÑÿ™ŸÇŸÜŸä"),description:S("ÊäÄÊúØÊîØÊåÅÁõ∏ÂÖ≥ÁöÑÂõûÂ§çÊ®°Êùø","Reply template for technical support","ŸÇÿßŸÑÿ® ÿßŸÑÿ±ÿØ ŸÑŸÑÿØÿπŸÖ ÿßŸÑÿ™ŸÇŸÜŸä"),content:S("ÊÑüË∞¢ÊÇ®ÁöÑÂèçÈ¶à„ÄÇÊàë‰ª¨ÁöÑÊäÄÊúØÂõ¢ÈòüÊ≠£Âú®Â§ÑÁêÜÊÇ®ÁöÑÈóÆÈ¢òÔºåÈ¢ÑËÆ°Âú®24Â∞èÊó∂ÂÜÖÁªôÊÇ®ÂõûÂ§ç„ÄÇ","Thank you for your feedback. Our technical team is working on your issue and we expect to reply within 24 hours.","ÿ¥ŸÉÿ±ÿß ŸÑŸÉ ÿπŸÑŸâ ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ŸÉ. ŸÅÿ±ŸäŸÇŸÜÿß ÿßŸÑÿ™ŸÇŸÜŸä ŸäÿπŸÖŸÑ ÿπŸÑŸâ ŸÖÿ¥ŸÉŸÑÿ™ŸÉ ŸàŸÜÿ™ŸàŸÇÿπ ÿßŸÑÿ±ÿØ ÿÆŸÑÿßŸÑ 24 ÿ≥ÿßÿπÿ©."),category:"support",isActive:!0,createdAt:new Date("2024-01-10").toISOString(),updatedAt:new Date("2024-01-12").toISOString()},{id:E(),name:S("‰∫ßÂìÅ‰ªãÁªçÊ®°Êùø","Product Introduction Template","ŸÇÿßŸÑÿ® ÿ™ŸÇÿØŸäŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨"),description:S("Áî®‰∫é‰ªãÁªç‰∫ßÂìÅÂäüËÉΩÁöÑÊ®°Êùø","Template for introducing product features","ŸÇÿßŸÑÿ® ŸÑÿ™ŸÇÿØŸäŸÖ ŸÖŸäÿ≤ÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨"),content:S("Êàë‰ª¨ÁöÑ‰∫ßÂìÅÂÖ∑Êúâ‰ª•‰∏ãÁâπÁÇπÔºö1. Êô∫ËÉΩÂåñÊìç‰Ωú 2. È´òÊïàÊÄßËÉΩ 3. Áî®Êà∑ÂèãÂ•ΩÁïåÈù¢ 4. ÂÆâÂÖ®ÂèØÈù†","Our product has the following features: 1. Intelligent operation 2. High efficiency 3. User-friendly interface 4. Safe and reliable","ŸÖŸÜÿ™ÿ¨ŸÜÿß ŸÑŸá ÿßŸÑŸÖŸäÿ≤ÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸäÿ©: 1. ÿ™ÿ¥ÿ∫ŸäŸÑ ÿ∞ŸÉŸä 2. ŸÉŸÅÿßÿ°ÿ© ÿπÿßŸÑŸäÿ© 3. Ÿàÿßÿ¨Ÿáÿ© ÿ≥ŸáŸÑÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ 4. ÿ¢ŸÖŸÜ ŸàŸÖŸàÿ´ŸàŸÇ"),category:"product",isActive:!1,createdAt:new Date("2024-01-05").toISOString(),updatedAt:new Date("2024-01-20").toISOString()}],or=()=>({defaultAvatars:["https://images.unsplash.com/photo-1494790108755-2616b612b742?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face"]}),Ke=m.createContext(void 0),U=()=>{const t=m.useContext(Ke);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t};function de(t,r,o){try{const n=localStorage.getItem(t);if(!n)return r;const a=JSON.parse(n);return o&&!o(a)?(console.warn("Invalid data format for key: "+t+", using default value"),r):a}catch(n){return console.warn("Failed to parse localStorage data for key: "+t,n),r}}const ir=t=>Array.isArray(t)&&t.every(r=>r&&typeof r=="object"&&typeof r.id=="string"&&typeof r.botId=="string"),lr=t=>Array.isArray(t)&&t.every(r=>r&&typeof r=="object"&&typeof r.id=="string"&&typeof r.name=="object"),cr=t=>t&&typeof t=="object"&&Array.isArray(t.defaultAvatars),dr=({children:t})=>{Te.useEffect(()=>{const l="1.0.0";localStorage.getItem("demo_data_version")!==l&&(localStorage.removeItem("demo_characters"),localStorage.removeItem("demo_templates"),localStorage.removeItem("demo_config"),localStorage.setItem("demo_data_version",l),console.log("Data cleaned up for version:",l))},[]);const[r,o]=m.useState(()=>de("demo_characters",nr(),ir)),[n,a]=m.useState(()=>de("demo_templates",ar(),lr)),[i,c]=m.useState(()=>de("demo_config",or(),cr)),p=m.useCallback((l,g)=>{try{localStorage.setItem(l,JSON.stringify(g))}catch(x){console.error("Failed to save data to localStorage for key: "+l,x)}},[]),u=m.useCallback(l=>{const g={...l,id:E(),botId:`bot_${E()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};o(x=>{const v=[...x,g];return p("demo_characters",v),v})},[p]),d=m.useCallback((l,g)=>{o(x=>{const v=x.map(_=>_.id===l?{..._,...g,updatedAt:new Date().toISOString()}:_);return p("demo_characters",v),v})},[p]),y=m.useCallback(l=>{o(g=>{const x=g.filter(v=>v.id!==l);return p("demo_characters",x),x})},[p]),s=m.useCallback(l=>r.find(g=>g.id===l),[r]),h=m.useCallback(l=>{const g={...l,id:E(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(x=>{const v=[...x,g];return p("demo_templates",v),v})},[p]),j=m.useCallback((l,g)=>{a(x=>{const v=x.map(_=>_.id===l?{..._,...g,updatedAt:new Date().toISOString()}:_);return p("demo_templates",v),v})},[p]),b=m.useCallback(l=>{a(g=>{const x=g.filter(v=>v.id!==l);return p("demo_templates",x),x})},[p]),f=m.useCallback(l=>n.find(g=>g.id===l),[n]),T=m.useCallback(l=>{c(g=>{const x={...g,...l};return p("demo_config",x),x})},[p]),D=m.useCallback((l,g)=>{const x=r.find(v=>v.id===l);if(x){const v=Array.isArray(x.whitelist)?x.whitelist:[];d(l,{whitelist:[...v,g]})}},[d,r]),M=m.useCallback((l,g)=>{const x=r.find(v=>v.id===l);if(x){const v=Array.isArray(x.whitelist)?x.whitelist:[];d(l,{whitelist:v.filter(_=>_!==g)})}},[d,r]),q={characters:r,addCharacter:u,updateCharacter:d,deleteCharacter:y,getCharacter:s,templates:n,addTemplate:h,updateTemplate:j,deleteTemplate:b,getTemplate:f,config:i,updateConfig:T,addToWhitelist:D,removeFromWhitelist:M};return e.jsx(Ke.Provider,{value:q,children:t})},ur=({visible:t,onCancel:r,characterId:o})=>{var j;const{characters:n,addToWhitelist:a,removeFromWhitelist:i}=U(),[c,p]=m.useState(!1),[u]=A.useForm(),d=n.find(b=>b.id===o),y=Array.isArray(d==null?void 0:d.whitelist)?d.whitelist:[],s=async b=>{const f=b.phone.trim();if(y.includes(f)){I.warning("ËØ•ÊâãÊú∫Âè∑Á†ÅÂ∑≤Â≠òÂú®");return}p(!0);try{a(o,f),u.resetFields(),I.success("Ê∑ªÂä†ÊàêÂäü")}catch{I.error("Ê∑ªÂä†Â§±Ë¥•")}finally{p(!1)}},h=b=>{i(o,b),I.success("Âà†Èô§ÊàêÂäü")};return e.jsxs(xe,{title:`ÁôΩÂêçÂçïÁÆ°ÁêÜ - ${((j=d==null?void 0:d.nickname)==null?void 0:j.zh)||"Êú™Áü•ËßíËâ≤"}`,open:t,onCancel:r,width:600,footer:null,children:[e.jsx("div",{style:{marginBottom:16},children:e.jsxs(A,{form:u,layout:"inline",onFinish:s,style:{width:"100%"},children:[e.jsx(A.Item,{name:"phone",style:{flex:1},rules:[{required:!0,message:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å"},{pattern:O.PHONE.PATTERN,message:O.PHONE.MESSAGE}],children:e.jsx(R,{placeholder:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†ÅÔºàÊîØÊåÅÂõΩÈôÖÊ†ºÂºèÔºåÂ¶Ç+86 13800138000Ôºâ",maxLength:20})}),e.jsx(A.Item,{children:e.jsx(w,{type:"primary",htmlType:"submit",icon:e.jsx(N,{}),loading:c,children:"Ê∑ªÂä†"})})]})}),e.jsx("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #f0f0f0",borderRadius:6,padding:y.length===0?0:8},children:y.length===0?e.jsx(ye,{image:ye.PRESENTED_IMAGE_SIMPLE,description:"ÊöÇÊó†ÁôΩÂêçÂçïÁî®Êà∑",style:{padding:"40px 0"}}):e.jsx(le,{dataSource:y,renderItem:b=>e.jsx(le.Item,{actions:[e.jsx(Z,{title:"Á°ÆËÆ§Âà†Èô§Ëøô‰∏™ÊâãÊú∫Âè∑Á†ÅÂêóÔºü",onConfirm:()=>h(b),okText:"Á°ÆËÆ§",cancelText:"ÂèñÊ∂à",children:e.jsx(w,{type:"text",danger:!0,icon:e.jsx(ge,{}),size:"small"})},"delete")],children:e.jsx(le.Item.Meta,{avatar:e.jsx(ut,{style:{color:"#1890ff"}}),title:b})})})}),e.jsxs("div",{style:{marginTop:16,padding:12,background:"#fafafa",borderRadius:6,fontSize:12,color:"#666"},children:[e.jsx("div",{children:"‚Ä¢ ÁôΩÂêçÂçïÁî®Êà∑ÂèØ‰ª•Êó†ÈôêÂà∂‰∏éÊ≠§AIËßíËâ≤ÂØπËØù"}),e.jsx("div",{children:"‚Ä¢ ÊîØÊåÅÂõΩÈôÖÊâãÊú∫Âè∑Á†ÅÊ†ºÂºèÔºåÂ¶ÇÔºö+86 13800138000, +1 555-1234567"}),e.jsxs("div",{children:["‚Ä¢ ÂΩìÂâçÁôΩÂêçÂçïÁî®Êà∑Êï∞ÈáèÔºö",y.length]})]})]})},{Search:pr}=R,{Title:mr,Text:be}=$,hr=()=>{const t=F(),{characters:r,deleteCharacter:o}=U(),[n,a]=m.useState(""),[i,c]=m.useState({open:!1,characterId:"",characterName:""}),p=m.useMemo(()=>n.trim()?r.filter(s=>{const h=n.toLowerCase();return s.botId.toLowerCase().includes(h)||s.nickname.zh.toLowerCase().includes(h)||s.nickname.en.toLowerCase().includes(h)||s.nickname.ar.toLowerCase().includes(h)}):r,[r,n]),u=async s=>{try{o(s.id),I.success("Âà†Èô§ÊàêÂäü")}catch{I.error("Âà†Èô§Â§±Ë¥•")}},d=s=>{c({open:!0,characterId:s.id,characterName:s.nickname.zh})},y=[{title:"Bot ID",dataIndex:"botId",key:"botId",width:150,render:s=>e.jsx(be,{code:!0,style:{fontSize:12},children:s})},{title:"Â§¥ÂÉè",dataIndex:"avatar",key:"avatar",width:80,render:s=>e.jsx(Pe,{src:s,size:48})},{title:"ÊòµÁß∞",dataIndex:"nickname",key:"nickname",render:(s,h)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,marginBottom:4},children:s.zh}),e.jsxs("div",{style:{fontSize:12,color:"#666"},children:[h.profession.zh," ¬∑ ",h.region.zh]})]})},{title:"ÊÄßÂà´/Âπ¥ÈæÑ",key:"genderAge",width:100,render:s=>{var j;return`${(j=We.find(b=>b.value===s.gender))==null?void 0:j.label} / ${s.age}Â≤Å`}},{title:"ÊùÉÈôê",dataIndex:"permission",key:"permission",width:100,render:s=>{const h=Ve.find(j=>j.value===s);return e.jsx(he,{color:s==="public"?"green":"orange",children:h==null?void 0:h.label})}},{title:"ÁôΩÂêçÂçïÁî®Êà∑",key:"whitelistCount",width:120,render:s=>e.jsx("div",{style:{textAlign:"center"},children:s.permission==="private"?e.jsxs(he,{color:"blue",children:[s.whitelist.length," ‰∫∫"]}):e.jsx(be,{type:"secondary",children:"-"})})},{title:"ÊúÄÂêéÊõ¥Êñ∞",dataIndex:"updatedAt",key:"updatedAt",width:140,sorter:(s,h)=>V(s.updatedAt).unix()-V(h.updatedAt).unix(),render:s=>e.jsx("div",{style:{fontSize:12},children:V(s).format("YYYY-MM-DD HH:mm")})},{title:"Êìç‰Ωú",key:"actions",width:200,render:s=>e.jsxs(Y,{size:"small",children:[e.jsx(w,{type:"link",size:"small",icon:e.jsx(Ee,{}),onClick:()=>t(`/characters/edit/${s.id}`),children:"Êü•Áúã"}),e.jsx(w,{type:"link",size:"small",icon:e.jsx(pt,{}),onClick:()=>t(`/characters/edit/${s.id}`),children:"ÁºñËæë"}),s.permission==="private"&&e.jsx(w,{type:"link",size:"small",icon:e.jsx(mt,{}),onClick:()=>d(s),children:"ÁôΩÂêçÂçï"}),e.jsx(Z,{title:"Á°ÆËÆ§Âà†Èô§",description:e.jsxs("div",{children:[e.jsxs("div",{children:["Á°ÆÂÆöË¶ÅÂà†Èô§ËßíËâ≤ ",e.jsx("strong",{children:s.nickname.zh})," ÂêóÔºü"]}),e.jsx("div",{style:{color:"#ff4d4f",fontSize:12,marginTop:4},children:"Ê≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç"})]}),onConfirm:()=>u(s),okText:"Á°ÆËÆ§Âà†Èô§",cancelText:"ÂèñÊ∂à",okButtonProps:{danger:!0},children:e.jsx(w,{type:"link",size:"small",danger:!0,icon:e.jsx(ge,{}),children:"Âà†Èô§"})})]})}];return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx(mr,{level:3,style:{margin:0},children:"AIËßíËâ≤ÁÆ°ÁêÜ"}),e.jsx(w,{type:"primary",icon:e.jsx(N,{}),onClick:()=>t("/characters/new"),size:"large",children:"Êñ∞Â¢ûAIËßíËâ≤"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:{display:"flex",gap:16,alignItems:"center"},children:e.jsx(pr,{placeholder:"ÊêúÁ¥¢ËßíËâ≤ÊòµÁß∞ÊàñBot ID",style:{width:300},onSearch:a,onChange:s=>a(s.target.value),allowClear:!0})}),e.jsxs("div",{style:{color:"#666",fontSize:14},children:["ÂÖ± ",p.length," ‰∏™ËßíËâ≤"]})]})]}),e.jsx(C,{children:e.jsx(ke,{columns:y,dataSource:p,rowKey:"id",pagination:{...Jt,total:p.length,showTotal:(s,h)=>`Á¨¨ ${h[0]}-${h[1]} Êù°ÔºåÂÖ± ${s} Êù°`},scroll:{x:1200}})}),e.jsx(ur,{visible:i.open,onCancel:()=>c({open:!1,characterId:"",characterName:""}),characterId:i.characterId})]})},fr=({activeLanguage:t,onChange:r,className:o="language-tabs"})=>{const n=Xt.map(a=>({key:a.key,label:e.jsxs("span",{children:[a.flag," ",a.label]})}));return e.jsx(ht,{activeKey:t,onChange:a=>r(a),items:n,className:o,size:"large",type:"card"})},Ae=({value:t=[],onChange:r,maxCount:o=1,listType:n="picture-card",disabled:a=!1})=>{const[i,c]=m.useState(!1),[p,u]=m.useState(""),[d,y]=m.useState(""),s=l=>new Promise(g=>{setTimeout(()=>{const x=URL.createObjectURL(l);g(x)},1e3)}),h=l=>new Promise((g,x)=>{const v=new FileReader;v.readAsDataURL(l),v.onload=()=>g(v.result),v.onerror=_=>x(_)}),j=Array.isArray(t)?t.map((l,g)=>({uid:`${g}`,name:`image-${g}.jpg`,status:"done",url:l})):[],b=async l=>{!l.url&&!l.preview&&(l.preview=await h(l.originFileObj)),u(l.url||l.preview),c(!0),y(l.name||l.url.substring(l.url.lastIndexOf("/")+1))},f=l=>H.ACCEPTED_IMAGE_TYPES.includes(l.type)?l.size<=H.MAX_FILE_SIZE?!0:(I.error("ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá 5MBÔºÅ"),!1):(I.error("Âè™ËÉΩ‰∏ä‰º† JPG/PNG/GIF/WebP Ê†ºÂºèÁöÑÂõæÁâáÔºÅ"),!1),T=async l=>{const{file:g,onSuccess:x,onError:v}=l;try{const _=await s(g);x({url:_},g)}catch(_){console.error("Upload failed:",_),v(_)}},D=({fileList:l})=>{const g=l.filter(x=>x.status==="done").map(x=>{var v;return((v=x.response)==null?void 0:v.url)||x.url}).filter(Boolean);r==null||r(g)},M=l=>{const g=Array.isArray(t)?t.filter(x=>x!==l.url):[];r==null||r(g)},q=e.jsxs("div",{children:[e.jsx(N,{}),e.jsx("div",{style:{marginTop:8},children:"‰∏ä‰º†ÂõæÁâá"})]});return e.jsxs(e.Fragment,{children:[e.jsx(Re,{customRequest:T,listType:n,fileList:j,onPreview:b,onChange:D,onRemove:M,beforeUpload:f,disabled:a,multiple:o>1,children:j.length>=o?null:q}),e.jsx(xe,{open:i,title:d,footer:null,onCancel:()=>c(!1),children:e.jsx("img",{alt:"preview",style:{width:"100%"},src:p})})]})},{Title:xr}=$,{TextArea:ue}=R,Ie=()=>{const[t]=A.useForm(),r=F(),{id:o}=Ce(),n=!!o,{addCharacter:a,updateCharacter:i,getCharacter:c}=U(),[p,u]=m.useState(!1),[d,y]=m.useState("zh"),[s,h]=m.useState(null);m.useEffect(()=>{if(n&&o){const f=c(o);f?(h(f),t.setFieldsValue({...f,nickname:f.nickname[d],region:f.region[d],profession:f.profession[d],introduction:f.introduction[d],tags:Array.isArray(f.tags[d])?f.tags[d]:[],greeting:f.greeting[d]})):(I.error("ËßíËâ≤‰∏çÂ≠òÂú®"),r("/characters"))}else t.setFieldsValue({avatar:W.CHARACTER.AVATAR,gender:W.CHARACTER.GENDER,age:W.CHARACTER.AGE,permission:W.CHARACTER.PERMISSION,displayImages:[],tags:[]})},[n,o,c,t,r,d]),m.useEffect(()=>{s&&t.setFieldsValue({nickname:s.nickname[d],region:s.region[d],profession:s.profession[d],introduction:s.introduction[d],tags:Array.isArray(s.tags[d])?s.tags[d]:[],greeting:s.greeting[d]})},[d,s,t]);const j=(f,T)=>({...T||{zh:"",en:"",ar:""},[d]:f||""}),b=async f=>{u(!0);try{const T={nickname:j(f.nickname,s==null?void 0:s.nickname),region:j(f.region,s==null?void 0:s.region),profession:j(f.profession,s==null?void 0:s.profession),introduction:j(f.introduction,s==null?void 0:s.introduction),greeting:j(f.greeting,s==null?void 0:s.greeting),tags:{...s!=null&&s.tags&&typeof s.tags=="object"?s.tags:{zh:[],en:[],ar:[]},[d]:Array.isArray(f.tags)?f.tags:[]}},D={avatar:f.avatar,gender:f.gender,age:f.age,permission:f.permission,displayImages:Array.isArray(f.displayImages)?f.displayImages:[],systemPrompt:f.systemPrompt||"",whitelist:Array.isArray(s==null?void 0:s.whitelist)?s.whitelist:[],...T};await new Promise(M=>setTimeout(M,1e3)),n&&s?(i(s.id,D),I.success("Êõ¥Êñ∞ÊàêÂäü")):(a(D),I.success("ÂàõÂª∫ÊàêÂäü")),r("/characters")}catch(T){I.error(n?"Êõ¥Êñ∞Â§±Ë¥•":"ÂàõÂª∫Â§±Ë¥•"),console.error("Submit error:",T)}finally{u(!1)}};return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:24},children:e.jsxs(Y,{children:[e.jsx(w,{icon:e.jsx(Oe,{}),onClick:()=>r("/characters"),children:"ËøîÂõûÂàóË°®"}),e.jsx(xr,{level:3,style:{margin:0},children:n?"ÁºñËæëAIËßíËâ≤":"Êñ∞Â¢ûAIËßíËâ≤"}),n&&s&&e.jsxs(he,{color:"blue",children:["Bot ID: ",s.botId]})]})}),e.jsx(C,{children:e.jsxs(A,{form:t,layout:"vertical",onFinish:b,scrollToFirstError:!0,children:[e.jsxs(K,{gutter:24,children:[e.jsxs(z,{xs:24,lg:12,children:[e.jsxs(C,{title:"Âü∫Êú¨‰ø°ÊÅØ",size:"small",style:{marginBottom:24},children:[e.jsx(A.Item,{name:"avatar",label:"Â§¥ÂÉè",rules:[{required:!0,message:"ËØ∑ÈÄâÊã©Â§¥ÂÉè"}],children:e.jsx(Ae,{maxCount:1})}),e.jsxs(K,{gutter:16,children:[e.jsx(z,{span:12,children:e.jsx(A.Item,{name:"gender",label:"ÊÄßÂà´",rules:[{required:!0,message:"ËØ∑ÈÄâÊã©ÊÄßÂà´"}],children:e.jsx(ce,{placeholder:"ÈÄâÊã©ÊÄßÂà´",options:We})})}),e.jsx(z,{span:12,children:e.jsx(A.Item,{name:"age",label:"Âπ¥ÈæÑ",rules:[O.CHARACTER.AGE],children:e.jsx(ft,{min:1,max:150,style:{width:"100%"}})})})]}),e.jsx(A.Item,{name:"permission",label:"ÊùÉÈôêËÆæÁΩÆ",rules:[{required:!0,message:"ËØ∑ÈÄâÊã©ÊùÉÈôêËÆæÁΩÆ"}],children:e.jsx(ce,{placeholder:"ÈÄâÊã©ÊùÉÈôêËÆæÁΩÆ",options:Ve})})]}),e.jsx(C,{title:"Â™í‰Ωì‰ø°ÊÅØ",size:"small",style:{marginBottom:24},children:e.jsx(A.Item,{name:"displayImages",label:"Â±ïÁ§∫ÂõæÁâá",help:"ÊúÄÂ§öÂèØ‰∏ä‰º†6Âº†Â±ïÁ§∫ÂõæÁâá",children:e.jsx(Ae,{maxCount:6})})}),e.jsx(C,{title:"È´òÁ∫ßËÆæÁΩÆ",size:"small",children:e.jsx(A.Item,{name:"systemPrompt",label:"Á≥ªÁªüÊèêÁ§∫ËØç",rules:[O.CHARACTER.SYSTEM_PROMPT],children:e.jsx(ue,{rows:6,placeholder:"ËÆæÂÆöËßíËâ≤ÁöÑË°å‰∏∫ÂáÜÂàô„ÄÅÂØπËØùÈ£éÊ†ºÁ≠â",maxLength:2e3,showCount:!0})})})]}),e.jsx(z,{xs:24,lg:12,children:e.jsxs(C,{title:"Â§öËØ≠Ë®Ä‰ø°ÊÅØ",size:"small",extra:e.jsx(fr,{activeLanguage:d,onChange:y}),children:[e.jsx(A.Item,{name:"nickname",label:"ËßíËâ≤ÊòµÁß∞",rules:[O.CHARACTER.NICKNAME],children:e.jsx(R,{placeholder:"ËæìÂÖ•AIËßíËâ≤ÁöÑÊòµÁß∞",maxLength:50})}),e.jsxs(K,{gutter:16,children:[e.jsx(z,{span:12,children:e.jsx(A.Item,{name:"region",label:"ËßíËâ≤Âú∞Âå∫",rules:[O.CHARACTER.REGION],children:e.jsx(R,{placeholder:"ËæìÂÖ•ËßíËâ≤ÊâÄÂú®Âú∞Âå∫",maxLength:50})})}),e.jsx(z,{span:12,children:e.jsx(A.Item,{name:"profession",label:"ËßíËâ≤ËÅå‰∏ö",rules:[O.CHARACTER.PROFESSION],children:e.jsx(R,{placeholder:"ËæìÂÖ•ËßíËâ≤ÁöÑËÅå‰∏ö",maxLength:50})})})]}),e.jsx(A.Item,{name:"introduction",label:"ËßíËâ≤‰ªãÁªç",rules:[O.CHARACTER.INTRODUCTION],children:e.jsx(ue,{rows:4,placeholder:"ËØ¶ÁªÜÊèèËø∞ËßíËâ≤ÁöÑËÉåÊôØ„ÄÅÊÄßÊ†ºÁ≠â",maxLength:500,showCount:!0})}),e.jsx(A.Item,{name:"tags",label:"ËßíËâ≤Ê†áÁ≠æ",tooltip:"Áî®‰∫éÂàÜÁ±ªÂíåÊêúÁ¥¢ÁöÑÂÖ≥ÈîÆËØç",children:e.jsx(ce,{mode:"tags",placeholder:"ËæìÂÖ•Ê†áÁ≠æÂêéÊåâÂõûËΩ¶Ê∑ªÂä†",style:{width:"100%"},options:[],maxTagCount:"responsive"})}),e.jsx(A.Item,{name:"greeting",label:"ÂºÄÂú∫ÁôΩ",tooltip:"ËßíËâ≤Âú®ÂØπËØùÂºÄÂßãÊó∂ÁöÑÈóÆÂÄôËØ≠",children:e.jsx(ue,{rows:3,placeholder:"ËØ∑ËæìÂÖ•ËßíËâ≤ÂºÄÂú∫ÁôΩÔºàÈÄâÂ°´Ôºâ",maxLength:200,showCount:!0})})]})})]}),e.jsx(xt,{}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs(Y,{children:[e.jsx(w,{size:"large",onClick:()=>r("/characters"),children:"ÂèñÊ∂à"}),e.jsx(w,{type:"primary",htmlType:"submit",loading:p,size:"large",icon:e.jsx($e,{}),children:p?"‰øùÂ≠ò‰∏≠...":n?"Êõ¥Êñ∞ËßíËâ≤":"ÂàõÂª∫ËßíËâ≤"})]})})]})})]})},{Search:gr}=R,{Title:yr}=$,jr=()=>{const t=F(),{templates:r,deleteTemplate:o}=U(),[n,a]=m.useState(""),i=m.useMemo(()=>n.trim()?r.filter(u=>{var d;return u.name.zh.toLowerCase().includes(n.toLowerCase())||((d=u.name.en)==null?void 0:d.toLowerCase().includes(n.toLowerCase()))||u.content.zh.toLowerCase().includes(n.toLowerCase())}):r,[r,n]),c=u=>{o(u),I.success("Âà†Èô§ÊàêÂäü")},p=[{title:"ID",dataIndex:"id",key:"id",width:120,render:u=>e.jsxs($.Text,{code:!0,style:{fontSize:"12px"},children:[u.slice(0,8),"..."]})},{title:"Ê®°ÊùøÂêçÁß∞",dataIndex:"name",key:"name",render:u=>e.jsxs("div",{children:[e.jsx("div",{children:u.zh}),u.en&&e.jsx("div",{style:{fontSize:"12px",color:"#999"},children:u.en})]})},{title:"SystemPromptÂÜÖÂÆπ",dataIndex:"content",key:"content",render:u=>e.jsx("div",{style:{maxWidth:300},children:e.jsx($.Text,{ellipsis:{tooltip:u.zh},children:u.zh})})},{title:"ÂàõÂª∫Êó∂Èó¥",dataIndex:"createdAt",key:"createdAt",width:180,render:u=>V(u).format("YYYY-MM-DD HH:mm")},{title:"Êìç‰Ωú",key:"actions",width:120,render:(u,d)=>e.jsxs(Y,{children:[e.jsx(w,{type:"link",size:"small",onClick:()=>t(`/templates/edit/${d.id}`),children:"ÁºñËæë"}),e.jsx(Z,{title:"Á°ÆËÆ§Âà†Èô§",description:"Âà†Èô§ÂêéÊó†Ê≥ïÊÅ¢Â§çÔºåÁ°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™Ê®°ÊùøÂêóÔºü",onConfirm:()=>c(d.id),okText:"Á°ÆËÆ§",cancelText:"ÂèñÊ∂à",children:e.jsx(w,{type:"link",size:"small",danger:!0,children:"Âà†Èô§"})})]})}];return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx(yr,{level:3,style:{margin:0},children:"Ê®°ÊùøÁÆ°ÁêÜ"}),e.jsxs("div",{style:{fontSize:"14px",color:"#666",marginTop:4},children:["ÔºàÂÖ± ",i.length," ‰∏™Ê®°ÊùøÔºâ"]}),e.jsx(w,{type:"primary",icon:e.jsx(N,{}),onClick:()=>t("/templates/new"),size:"large",children:"Êñ∞Â¢ûÊ®°Êùø"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:{display:"flex",gap:16,alignItems:"center"},children:e.jsx(gr,{placeholder:"ÊêúÁ¥¢Ê®°ÊùøÂêçÁß∞„ÄÅÊèèËø∞ÊàñÂàÜÁ±ª",style:{width:300},onSearch:a,onChange:u=>a(u.target.value),allowClear:!0})}),e.jsxs("div",{style:{color:"#666",fontSize:14},children:["ÂÖ± ",i.length," ‰∏™Ê®°Êùø ÔºàÂêØÁî® ",i.filter(u=>u.isActive).length," ‰∏™Ôºâ"]})]})]}),e.jsx(ke,{columns:p,dataSource:i,rowKey:"id",pagination:{total:i.length,showTotal:(u,d)=>`Á¨¨ ${d[0]}-${d[1]} Êù°ÔºåÂÖ± ${u} Êù°`}})]})},{TextArea:vr}=R,{Title:br}=$,we=()=>{const[t]=A.useForm(),r=F(),{id:o}=Ce(),n=!!o,{addTemplate:a,updateTemplate:i,getTemplate:c}=U(),[p,u]=m.useState(!1);m.useEffect(()=>{if(n&&o){const y=c(o);y?t.setFieldsValue({name:y.name.zh,content:y.content.zh,isActive:y.isActive||!0}):(I.error("Ê®°Êùø‰∏çÂ≠òÂú®"),r("/templates"))}else t.setFieldsValue({isActive:!0})},[n,o,c,t,r]);const d=async y=>{u(!0);try{const s={name:{zh:y.name,en:"",ar:""},description:{zh:y.name,en:"",ar:""},content:{zh:y.content,en:"",ar:""},category:"general",isActive:y.isActive};n&&o?(i(o,s),I.success("Êõ¥Êñ∞ÊàêÂäü")):(a(s),I.success("ÂàõÂª∫ÊàêÂäü")),r("/templates")}catch(s){console.error("Submit error:",s),I.error("Êìç‰ΩúÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}finally{u(!1)}};return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:24},children:e.jsxs(Y,{children:[e.jsx(w,{icon:e.jsx(Oe,{}),onClick:()=>r("/templates"),children:"ËøîÂõûÂàóË°®"}),e.jsx(br,{level:3,style:{margin:0},children:n?"ÁºñËæëÊ®°Êùø":"Êñ∞Â¢ûÊ®°Êùø"})]})}),e.jsxs(A,{form:t,layout:"vertical",onFinish:d,autoComplete:"off",children:[e.jsxs(C,{title:"Âü∫Êú¨‰ø°ÊÅØ",style:{marginBottom:24},children:[e.jsx(A.Item,{name:"name",label:"Ê®°ÊùøÂêçÁß∞",rules:[O.TEMPLATE.NAME],children:e.jsx(R,{placeholder:"ËæìÂÖ•Ê®°ÊùøÂêçÁß∞",maxLength:100})}),e.jsx(A.Item,{name:"content",label:"SystemPromptÂÜÖÂÆπ",rules:[O.TEMPLATE.CONTENT],tooltip:"Áî®‰∫éÊåáÂØºAIË°å‰∏∫ÁöÑÁ≥ªÁªüÊèêÁ§∫ËØç",children:e.jsx(vr,{rows:12,placeholder:"ËæìÂÖ•SystemPromptÂÜÖÂÆπÔºå‰æãÂ¶ÇÔºöYou are a helpful and friendly AI assistant...",maxLength:15e3,showCount:!0})}),e.jsx(A.Item,{name:"isActive",label:"Áä∂ÊÄÅ",valuePropName:"checked",tooltip:"ÊòØÂê¶ÂêØÁî®ËØ•Ê®°Êùø",children:e.jsx(gt,{checkedChildren:"ÂêØÁî®",unCheckedChildren:"Á¶ÅÁî®"})})]}),e.jsx(C,{children:e.jsx("div",{style:{textAlign:"right"},children:e.jsxs(Y,{children:[e.jsx(w,{onClick:()=>r("/templates"),children:"ÂèñÊ∂à"}),e.jsx(w,{type:"primary",htmlType:"submit",icon:e.jsx($e,{}),loading:p,children:n?"‰øùÂ≠ò‰øÆÊîπ":"ÂàõÂª∫Ê®°Êùø"})]})})})]})]})},{Title:Ar,Text:pe}=$,Ir=()=>{const{config:t,updateConfig:r}=U(),[o,n]=m.useState(!1),[a,i]=m.useState(""),[c,p]=m.useState(""),u=h=>new Promise(j=>{setTimeout(()=>{const b=URL.createObjectURL(h);j(b)},1e3)}),d=async h=>{const{file:j,onSuccess:b,onError:f}=h;try{if(!H.ACCEPTED_IMAGE_TYPES.includes(j.type)){I.error("Âè™ËÉΩ‰∏ä‰º† JPG/PNG/GIF/WebP Ê†ºÂºèÁöÑÂõæÁâáÔºÅ"),f(new Error("Invalid file type"));return}if(!(j.size<=H.MAX_FILE_SIZE)){I.error("ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá 5MBÔºÅ"),f(new Error("File too large"));return}const M=await u(j),l=[...Array.isArray(t.defaultAvatars)?t.defaultAvatars:[],M];r({defaultAvatars:l}),I.success("Â§¥ÂÉè‰∏ä‰º†ÊàêÂäü"),b({url:M},j)}catch(T){console.error("Upload failed:",T),I.error("‰∏ä‰º†Â§±Ë¥•"),f(T)}},y=h=>{const b=(Array.isArray(t.defaultAvatars)?t.defaultAvatars:[]).filter(f=>f!==h);r({defaultAvatars:b}),I.success("Âà†Èô§ÊàêÂäü")},s=h=>{i(h),p("ÈªòËÆ§Â§¥ÂÉèÈ¢ÑËßà"),n(!0)};return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(Ar,{level:3,style:{margin:0},children:"ÈÄöÁî®ÈÖçÁΩÆ"}),e.jsx(pe,{type:"secondary",children:"ÁÆ°ÁêÜÁ≥ªÁªüÁöÑÈÄöÁî®ÈÖçÁΩÆ‰ø°ÊÅØ"})]}),e.jsxs(C,{title:"ÈªòËÆ§Â§¥ÂÉèÁÆ°ÁêÜ",style:{marginBottom:24},children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(Re,{customRequest:d,showUploadList:!1,accept:H.ACCEPTED_IMAGE_TYPES.join(","),children:e.jsx(w,{type:"primary",icon:e.jsx(N,{}),children:"‰∏ä‰º†Êñ∞Â§¥ÂÉè"})}),e.jsx(pe,{type:"secondary",style:{marginLeft:12},children:"ÊîØÊåÅ JPG„ÄÅPNG„ÄÅGIF„ÄÅWebP Ê†ºÂºèÔºåÂ§ßÂ∞è‰∏çË∂ÖËøá 5MB"})]}),e.jsx("div",{style:{border:"1px solid #f0f0f0",borderRadius:8,padding:16,minHeight:200,backgroundColor:"#fafafa"},children:!Array.isArray(t.defaultAvatars)||t.defaultAvatars.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#999"},children:[e.jsx(N,{style:{fontSize:48,marginBottom:16}}),e.jsx("div",{children:"ÊöÇÊó†ÈªòËÆ§Â§¥ÂÉè"}),e.jsx("div",{style:{fontSize:12,marginTop:8},children:"ÁÇπÂáª‰∏äÊñπÊåâÈíÆ‰∏ä‰º†Â§¥ÂÉè"})]}):e.jsx(K,{gutter:[16,16],children:t.defaultAvatars.map((h,j)=>e.jsx(z,{xs:12,sm:8,md:6,lg:4,children:e.jsx(C,{hoverable:!0,size:"small",cover:e.jsx("div",{style:{height:120,background:`url(${h}) center/cover`,borderRadius:"8px 8px 0 0"}}),actions:[e.jsx(w,{type:"text",icon:e.jsx(Ee,{}),onClick:()=>s(h)},"preview"),e.jsx(Z,{title:"Á°ÆËÆ§Âà†Èô§",description:"Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ÈªòËÆ§Â§¥ÂÉèÂêóÔºü",onConfirm:()=>y(h),okText:"Á°ÆËÆ§",cancelText:"ÂèñÊ∂à",children:e.jsx(w,{type:"text",danger:!0,icon:e.jsx(ge,{})})},"delete")],children:e.jsx(C.Meta,{title:`Â§¥ÂÉè ${j+1}`,description:e.jsx(pe,{type:"secondary",style:{fontSize:12},children:"ÈªòËÆ§Â§¥ÂÉè"})})})},j))})}),e.jsxs("div",{style:{marginTop:16,padding:12,backgroundColor:"#f6f8fa",borderRadius:6,fontSize:12,color:"#666"},children:[e.jsx("div",{style:{marginBottom:4},children:e.jsx("strong",{children:"ËØ¥ÊòéÔºö"})}),e.jsx("div",{children:"‚Ä¢ ÈªòËÆ§Â§¥ÂÉèÂ∞ÜÂú®ÂàõÂª∫AIËßíËâ≤Êó∂‰Ωú‰∏∫Â§¥ÂÉèÈÄâÈ°πÊèê‰æõ"}),e.jsx("div",{children:"‚Ä¢ Âª∫ËÆÆ‰∏ä‰º†Â∞∫ÂØ∏‰∏∫ 150x150 ÂÉèÁ¥†ÁöÑÊ≠£ÊñπÂΩ¢ÂõæÁâá"}),e.jsxs("div",{children:["‚Ä¢ ÂΩìÂâçÈªòËÆ§Â§¥ÂÉèÊï∞ÈáèÔºö",Array.isArray(t.defaultAvatars)?t.defaultAvatars.length:0]})]})]}),e.jsx(xe,{open:o,title:c,footer:null,onCancel:()=>n(!1),children:e.jsx("img",{alt:"preview",style:{width:"100%"},src:a})})]})},{Title:wr,Text:Se}=$,Sr=()=>e.jsxs("div",{children:[e.jsx(wr,{level:2,children:"ÊµãËØïÈ°µÈù¢"}),e.jsxs(C,{children:[e.jsx(Se,{children:"ËøôÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊµãËØïÈ°µÈù¢ÔºåÁî®Êù•È™åËØÅË∑ØÁî±ÊòØÂê¶Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ"}),e.jsx("br",{}),e.jsx(Se,{type:"secondary",children:"Â¶ÇÊûúÊÇ®ËÉΩÁúãÂà∞Ëøô‰∏™È°µÈù¢ÔºåËØ¥ÊòéË∑ØÁî±ÈÖçÁΩÆÊòØÊ≠£Á°ÆÁöÑ„ÄÇ"})]})]}),{Title:_e,Text:_r}=$,Tr=()=>{const t=F();return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:24},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx(_e,{level:3,style:{margin:0},children:"AIËßíËâ≤ÁÆ°ÁêÜÔºàÁÆÄÂåñÁâàÔºâ"}),e.jsx(w,{type:"primary",icon:e.jsx(N,{}),onClick:()=>t("/characters/new"),size:"large",children:"Êñ∞Â¢ûAIËßíËâ≤"})]})}),e.jsx(C,{children:e.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[e.jsx(J,{style:{fontSize:48,marginBottom:16,color:"#1890ff"}}),e.jsxs("div",{children:[e.jsx(_e,{level:4,children:"ÁÆÄÂåñÁöÑËßíËâ≤ÂàóË°®È°µÈù¢"}),e.jsx(_r,{type:"secondary",children:"ËøôÊòØ‰∏Ä‰∏™‰∏ç‰æùËµñÊï∞ÊçÆ‰∏ä‰∏ãÊñáÁöÑÁÆÄÂåñÁâàÊú¨ÔºåÁî®‰∫éÊµãËØïË∑ØÁî±ÊòØÂê¶Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ"})]}),e.jsx("div",{style:{marginTop:24},children:e.jsxs(Y,{children:[e.jsx(w,{onClick:()=>t("/test"),children:"ÊµãËØïÈ°µÈù¢"}),e.jsx(w,{onClick:()=>t("/config"),children:"ÈÄöÁî®ÈÖçÁΩÆ"}),e.jsx(w,{type:"primary",ghost:!0,onClick:()=>t("/characters"),children:"ÂÆåÊï¥ËßíËâ≤ÂàóË°®"})]})})]})})]})};I.config({top:100,duration:3,maxCount:3});const L=({children:t})=>{const{isAuthenticated:r}=ie();return r?e.jsx(rr,{children:t}):e.jsx(X,{to:"/login",replace:!0})},Cr=({children:t})=>{const{isAuthenticated:r}=ie();return r?e.jsx(X,{to:"/simple",replace:!0}):e.jsx(e.Fragment,{children:t})};function Pr(){return e.jsx(qt,{children:e.jsx(dr,{children:e.jsxs(et,{children:[e.jsx(k,{path:"/login",element:e.jsx(Cr,{children:e.jsx(Kt,{})})}),e.jsx(k,{path:"/",element:e.jsx(X,{to:"/simple",replace:!0})}),e.jsx(k,{path:"/test",element:e.jsx(L,{children:e.jsx(Sr,{})})}),e.jsx(k,{path:"/simple",element:e.jsx(L,{children:e.jsx(Tr,{})})}),e.jsx(k,{path:"/characters",element:e.jsx(L,{children:e.jsx(hr,{})})}),e.jsx(k,{path:"/characters/new",element:e.jsx(L,{children:e.jsx(Ie,{})})}),e.jsx(k,{path:"/characters/edit/:id",element:e.jsx(L,{children:e.jsx(Ie,{})})}),e.jsx(k,{path:"/templates",element:e.jsx(L,{children:e.jsx(jr,{})})}),e.jsx(k,{path:"/templates/new",element:e.jsx(L,{children:e.jsx(we,{})})}),e.jsx(k,{path:"/templates/edit/:id",element:e.jsx(L,{children:e.jsx(we,{})})}),e.jsx(k,{path:"/config",element:e.jsx(L,{children:e.jsx(Ir,{})})}),e.jsx(k,{path:"*",element:e.jsx(X,{to:"/simple",replace:!0})})]})})})}fe.createRoot(document.getElementById("root")).render(e.jsx(Te.StrictMode,{children:e.jsx(tt,{children:e.jsx(yt,{locale:Bt,children:e.jsx(Pr,{})})})}));
