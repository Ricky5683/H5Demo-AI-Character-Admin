import{r as x,c as nt,g as at,e as ot,u as H,f as it,R as Ce,h as Pe,i as lt,j as L,N as Q,H as ct}from"./vendor-BT3SA_Mp.js";import{r as dt,T as z,F as _,C,I as M,R as J,a as ut,B as E,s as I,L as he,M as pt,b as mt,c as ht,D as xt,A as Re,d as gt,e as ft,f as yt,g as ge,h as G,E as fe,i as ye,j as je,P as ee,k as te,l as Le,m as Z,n as D,S as Y,o as ke,p as Me,q as jt,t as vt,U as Ne,u as Oe,v as X,w as $,x as K,y as Tt,z as De,G as $e,H as ze,J as It}from"./antd-uuZQaa5X.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}})();var Ge={exports:{}},re={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt=x,_t=Symbol.for("react.element"),Et=Symbol.for("react.fragment"),At=Object.prototype.hasOwnProperty,St=bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wt={key:!0,ref:!0,__self:!0,__source:!0};function Ye(r,s,o){var n,a={},i=null,c=null;o!==void 0&&(i=""+o),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(c=s.ref);for(n in s)At.call(s,n)&&!wt.hasOwnProperty(n)&&(a[n]=s[n]);if(r&&r.defaultProps)for(n in s=r.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:_t,type:r,key:i,ref:c,props:a,_owner:St.current}}re.Fragment=Et;re.jsx=Ye;re.jsxs=Ye;Ge.exports=re;var e=Ge.exports,xe={},ve=nt;xe.createRoot=ve.createRoot,xe.hydrateRoot=ve.hydrateRoot;var se={},He={exports:{}};(function(r){function s(o){return o&&o.__esModule?o:{default:o}}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports})(He);var ne=He.exports,ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.default=void 0;var Ct={items_per_page:"Êù°/È°µ",jump_to:"Ë∑≥Ëá≥",jump_to_confirm:"Á°ÆÂÆö",page:"È°µ",prev_page:"‰∏ä‰∏ÄÈ°µ",next_page:"‰∏ã‰∏ÄÈ°µ",prev_5:"ÂêëÂâç 5 È°µ",next_5:"ÂêëÂêé 5 È°µ",prev_3:"ÂêëÂâç 3 È°µ",next_3:"ÂêëÂêé 3 È°µ",page_size:"È°µÁ†Å"};ae.default=Ct;var oe={},q={},ie={},Ue={exports:{}},Fe={exports:{}},Be={exports:{}},Xe={exports:{}};(function(r){function s(o){"@babel/helpers - typeof";return r.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,s(o)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports})(Xe);var Ve=Xe.exports,qe={exports:{}};(function(r){var s=Ve.default;function o(n,a){if(s(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var c=i.call(n,a||"default");if(s(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports})(qe);var Pt=qe.exports;(function(r){var s=Ve.default,o=Pt;function n(a){var i=o(a,"string");return s(i)=="symbol"?i:i+""}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports})(Be);var Rt=Be.exports;(function(r){var s=Rt;function o(n,a,i){return(a=s(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}r.exports=o,r.exports.__esModule=!0,r.exports.default=r.exports})(Fe);var Lt=Fe.exports;(function(r){var s=Lt;function o(a,i){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);i&&(d=d.filter(function(T){return Object.getOwnPropertyDescriptor(a,T).enumerable})),c.push.apply(c,d)}return c}function n(a){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?o(Object(c),!0).forEach(function(d){s(a,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(c,d))})}return a}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports})(Ue);var kt=Ue.exports,le={};Object.defineProperty(le,"__esModule",{value:!0});le.commonLocale=void 0;le.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var Mt=ne.default;Object.defineProperty(ie,"__esModule",{value:!0});ie.default=void 0;var Te=Mt(kt),Nt=le,Ot=(0,Te.default)((0,Te.default)({},Nt.commonLocale),{},{locale:"zh_CN",today:"‰ªäÂ§©",now:"Ê≠§Âàª",backToToday:"ËøîÂõû‰ªäÂ§©",ok:"Á°ÆÂÆö",timeSelect:"ÈÄâÊã©Êó∂Èó¥",dateSelect:"ÈÄâÊã©Êó•Êúü",weekSelect:"ÈÄâÊã©Âë®",clear:"Ê∏ÖÈô§",week:"Âë®",month:"Êúà",year:"Âπ¥",previousMonth:"‰∏ä‰∏™Êúà (ÁøªÈ°µ‰∏äÈîÆ)",nextMonth:"‰∏ã‰∏™Êúà (ÁøªÈ°µ‰∏ãÈîÆ)",monthSelect:"ÈÄâÊã©Êúà‰ªΩ",yearSelect:"ÈÄâÊã©Âπ¥‰ªΩ",decadeSelect:"ÈÄâÊã©Âπ¥‰ª£",previousYear:"‰∏ä‰∏ÄÂπ¥ (ControlÈîÆÂä†Â∑¶ÊñπÂêëÈîÆ)",nextYear:"‰∏ã‰∏ÄÂπ¥ (ControlÈîÆÂä†Âè≥ÊñπÂêëÈîÆ)",previousDecade:"‰∏ä‰∏ÄÂπ¥‰ª£",nextDecade:"‰∏ã‰∏ÄÂπ¥‰ª£",previousCentury:"‰∏ä‰∏Ä‰∏ñÁ∫™",nextCentury:"‰∏ã‰∏Ä‰∏ñÁ∫™",yearFormat:"YYYYÂπ¥",cellDateFormat:"D",monthBeforeYear:!1});ie.default=Ot;var W={};Object.defineProperty(W,"__esModule",{value:!0});W.default=void 0;const Dt={placeholder:"ËØ∑ÈÄâÊã©Êó∂Èó¥",rangePlaceholder:["ÂºÄÂßãÊó∂Èó¥","ÁªìÊùüÊó∂Èó¥"]};W.default=Dt;var We=ne.default;Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var $t=We(ie),zt=We(W);const Ke={lang:Object.assign({placeholder:"ËØ∑ÈÄâÊã©Êó•Êúü",yearPlaceholder:"ËØ∑ÈÄâÊã©Âπ¥‰ªΩ",quarterPlaceholder:"ËØ∑ÈÄâÊã©Â≠£Â∫¶",monthPlaceholder:"ËØ∑ÈÄâÊã©Êúà‰ªΩ",weekPlaceholder:"ËØ∑ÈÄâÊã©Âë®",rangePlaceholder:["ÂºÄÂßãÊó•Êúü","ÁªìÊùüÊó•Êúü"],rangeYearPlaceholder:["ÂºÄÂßãÂπ¥‰ªΩ","ÁªìÊùüÂπ¥‰ªΩ"],rangeMonthPlaceholder:["ÂºÄÂßãÊúà‰ªΩ","ÁªìÊùüÊúà‰ªΩ"],rangeQuarterPlaceholder:["ÂºÄÂßãÂ≠£Â∫¶","ÁªìÊùüÂ≠£Â∫¶"],rangeWeekPlaceholder:["ÂºÄÂßãÂë®","ÁªìÊùüÂë®"]},$t.default),timePickerLocale:Object.assign({},zt.default)};Ke.lang.ok="Á°ÆÂÆö";q.default=Ke;var Gt=ne.default;Object.defineProperty(oe,"__esModule",{value:!0});oe.default=void 0;var Yt=Gt(q);oe.default=Yt.default;var ce=ne.default;Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var Ht=ce(ae),Ut=ce(oe),Ft=ce(q),Bt=ce(W);const R="${label}‰∏çÊòØ‰∏Ä‰∏™ÊúâÊïàÁöÑ${type}",Xt={locale:"zh-cn",Pagination:Ht.default,DatePicker:Ft.default,TimePicker:Bt.default,Calendar:Ut.default,global:{placeholder:"ËØ∑ÈÄâÊã©",close:"ÂÖ≥Èó≠"},Table:{filterTitle:"Á≠õÈÄâ",filterConfirm:"Á°ÆÂÆö",filterReset:"ÈáçÁΩÆ",filterEmptyText:"Êó†Á≠õÈÄâÈ°π",filterCheckAll:"ÂÖ®ÈÄâ",filterSearchPlaceholder:"Âú®Á≠õÈÄâÈ°π‰∏≠ÊêúÁ¥¢",emptyText:"ÊöÇÊó†Êï∞ÊçÆ",selectAll:"ÂÖ®ÈÄâÂΩìÈ°µ",selectInvert:"ÂèçÈÄâÂΩìÈ°µ",selectNone:"Ê∏ÖÁ©∫ÊâÄÊúâ",selectionAll:"ÂÖ®ÈÄâÊâÄÊúâ",sortTitle:"ÊéíÂ∫è",expand:"Â±ïÂºÄË°å",collapse:"ÂÖ≥Èó≠Ë°å",triggerDesc:"ÁÇπÂáªÈôçÂ∫è",triggerAsc:"ÁÇπÂáªÂçáÂ∫è",cancelSort:"ÂèñÊ∂àÊéíÂ∫è"},Modal:{okText:"Á°ÆÂÆö",cancelText:"ÂèñÊ∂à",justOkText:"Áü•ÈÅì‰∫Ü"},Tour:{Next:"‰∏ã‰∏ÄÊ≠•",Previous:"‰∏ä‰∏ÄÊ≠•",Finish:"ÁªìÊùüÂØºËßà"},Popconfirm:{cancelText:"ÂèñÊ∂à",okText:"Á°ÆÂÆö"},Transfer:{titles:["",""],searchPlaceholder:"ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÜÖÂÆπ",itemUnit:"È°π",itemsUnit:"È°π",remove:"Âà†Èô§",selectCurrent:"ÂÖ®ÈÄâÂΩìÈ°µ",removeCurrent:"Âà†Èô§ÂΩìÈ°µ",selectAll:"ÂÖ®ÈÄâÊâÄÊúâ",deselectAll:"ÂèñÊ∂àÂÖ®ÈÄâ",removeAll:"Âà†Èô§ÂÖ®ÈÉ®",selectInvert:"ÂèçÈÄâÂΩìÈ°µ"},Upload:{uploading:"Êñá‰ª∂‰∏ä‰º†‰∏≠",removeFile:"Âà†Èô§Êñá‰ª∂",uploadError:"‰∏ä‰º†ÈîôËØØ",previewFile:"È¢ÑËßàÊñá‰ª∂",downloadFile:"‰∏ãËΩΩÊñá‰ª∂"},Empty:{description:"ÊöÇÊó†Êï∞ÊçÆ"},Icon:{icon:"ÂõæÊ†á"},Text:{edit:"ÁºñËæë",copy:"Â§çÂà∂",copied:"Â§çÂà∂ÊàêÂäü",expand:"Â±ïÂºÄ",collapse:"Êî∂Ëµ∑"},Form:{optional:"ÔºàÂèØÈÄâÔºâ",defaultValidateMessages:{default:"Â≠óÊÆµÈ™åËØÅÈîôËØØ${label}",required:"ËØ∑ËæìÂÖ•${label}",enum:"${label}ÂøÖÈ°ªÊòØÂÖ∂‰∏≠‰∏Ä‰∏™[${enum}]",whitespace:"${label}‰∏çËÉΩ‰∏∫Á©∫Â≠óÁ¨¶",date:{format:"${label}Êó•ÊúüÊ†ºÂºèÊó†Êïà",parse:"${label}‰∏çËÉΩËΩ¨Êç¢‰∏∫Êó•Êúü",invalid:"${label}ÊòØ‰∏Ä‰∏™Êó†ÊïàÊó•Êúü"},types:{string:R,method:R,array:R,object:R,number:R,date:R,boolean:R,integer:R,float:R,regexp:R,email:R,url:R,hex:R},string:{len:"${label}È°ª‰∏∫${len}‰∏™Â≠óÁ¨¶",min:"${label}ÊúÄÂ∞ë${min}‰∏™Â≠óÁ¨¶",max:"${label}ÊúÄÂ§ö${max}‰∏™Â≠óÁ¨¶",range:"${label}È°ªÂú®${min}-${max}Â≠óÁ¨¶‰πãÈó¥"},number:{len:"${label}ÂøÖÈ°ªÁ≠â‰∫é${len}",min:"${label}ÊúÄÂ∞èÂÄº‰∏∫${min}",max:"${label}ÊúÄÂ§ßÂÄº‰∏∫${max}",range:"${label}È°ªÂú®${min}-${max}‰πãÈó¥"},array:{len:"È°ª‰∏∫${len}‰∏™${label}",min:"ÊúÄÂ∞ë${min}‰∏™${label}",max:"ÊúÄÂ§ö${max}‰∏™${label}",range:"${label}Êï∞ÈáèÈ°ªÂú®${min}-${max}‰πãÈó¥"},pattern:{mismatch:"${label}‰∏éÊ®°Âºè‰∏çÂåπÈÖç${pattern}"}}},Image:{preview:"È¢ÑËßà"},QRCode:{expired:"‰∫åÁª¥Á†ÅËøáÊúü",refresh:"ÁÇπÂáªÂà∑Êñ∞",scanned:"Â∑≤Êâ´Êèè"},ColorPicker:{presetEmpty:"ÊöÇÊó†",transparent:"Êó†Ëâ≤",singleColor:"ÂçïËâ≤",gradientColor:"Ê∏êÂèòËâ≤"}};se.default=Xt;var Vt=se;const qt=at(Vt);var Wt={exports:{}};(function(r,s){(function(o,n){r.exports=n(dt())})(ot,function(o){function n(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var a=n(o),i={name:"zh-cn",weekdays:"ÊòüÊúüÊó•_ÊòüÊúü‰∏Ä_ÊòüÊúü‰∫å_ÊòüÊúü‰∏â_ÊòüÊúüÂõõ_ÊòüÊúü‰∫î_ÊòüÊúüÂÖ≠".split("_"),weekdaysShort:"Âë®Êó•_Âë®‰∏Ä_Âë®‰∫å_Âë®‰∏â_Âë®Âõõ_Âë®‰∫î_Âë®ÂÖ≠".split("_"),weekdaysMin:"Êó•_‰∏Ä_‰∫å_‰∏â_Âõõ_‰∫î_ÂÖ≠".split("_"),months:"‰∏ÄÊúà_‰∫åÊúà_‰∏âÊúà_ÂõõÊúà_‰∫îÊúà_ÂÖ≠Êúà_‰∏ÉÊúà_ÂÖ´Êúà_‰πùÊúà_ÂçÅÊúà_ÂçÅ‰∏ÄÊúà_ÂçÅ‰∫åÊúà".split("_"),monthsShort:"1Êúà_2Êúà_3Êúà_4Êúà_5Êúà_6Êúà_7Êúà_8Êúà_9Êúà_10Êúà_11Êúà_12Êúà".split("_"),ordinal:function(c,d){return d==="W"?c+"Âë®":c+"Êó•"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYÂπ¥MÊúàDÊó•",LLL:"YYYYÂπ¥MÊúàDÊó•AhÁÇπmmÂàÜ",LLLL:"YYYYÂπ¥MÊúàDÊó•ddddAhÁÇπmmÂàÜ",l:"YYYY/M/D",ll:"YYYYÂπ¥MÊúàDÊó•",lll:"YYYYÂπ¥MÊúàDÊó• HH:mm",llll:"YYYYÂπ¥MÊúàDÊó•dddd HH:mm"},relativeTime:{future:"%sÂÜÖ",past:"%sÂâç",s:"Âá†Áßí",m:"1 ÂàÜÈíü",mm:"%d ÂàÜÈíü",h:"1 Â∞èÊó∂",hh:"%d Â∞èÊó∂",d:"1 Â§©",dd:"%d Â§©",M:"1 ‰∏™Êúà",MM:"%d ‰∏™Êúà",y:"1 Âπ¥",yy:"%d Âπ¥"},meridiem:function(c,d){var T=100*c+d;return T<600?"ÂáåÊô®":T<900?"Êó©‰∏ä":T<1100?"‰∏äÂçà":T<1300?"‰∏≠Âçà":T<1800?"‰∏ãÂçà":"Êôö‰∏ä"}};return a.default.locale(i,null,!0),i})})(Wt);const Qe=x.createContext(void 0),de=()=>{const r=x.useContext(Qe);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},Kt=({children:r})=>{const[s,o]=x.useState(null),[n,a]=x.useState(!1);x.useEffect(()=>{const T=localStorage.getItem("auth_user"),m=localStorage.getItem("auth_token");if(T&&m)try{const l=JSON.parse(T);o(l),a(!0)}catch(l){console.error("Failed to parse saved user data:",l),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_token")}},[]);const d={user:s,isAuthenticated:n,login:async(T,m)=>{if(await new Promise(l=>setTimeout(l,1e3)),T==="Admin"&&m==="5173rongcloud"){const l={id:"1",username:"Admin"},t="mock_jwt_token_"+Date.now();return localStorage.setItem("auth_user",JSON.stringify(l)),localStorage.setItem("auth_token",t),o(l),a(!0),!0}return!1},logout:()=>{localStorage.removeItem("auth_user"),localStorage.removeItem("auth_token"),o(null),a(!1)}};return e.jsx(Qe.Provider,{value:d,children:r})},{Title:Qt,Text:Jt}=z,Zt=()=>{const[r]=_.useForm(),[s,o]=x.useState(!1),n=H(),{login:a}=de(),i=async c=>{o(!0);try{await a(c.username,c.password)?(I.success("ÁôªÂΩïÊàêÂäüÔºÅ"),n("/simple")):I.error("Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ")}catch(d){console.error("Login error:",d),I.error("ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï")}finally{o(!1)}};return e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px"},children:e.jsxs(C,{style:{width:"100%",maxWidth:400,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",borderRadius:"12px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[e.jsx(Qt,{level:2,style:{color:"#1890ff",marginBottom:8},children:"AIËßíËâ≤ÁÆ°ÁêÜÂêéÂè∞"}),e.jsx(Jt,{type:"secondary",children:"H5 Demo ÁÆ°ÁêÜÁ≥ªÁªü"})]}),e.jsxs(_,{form:r,name:"login",layout:"vertical",onFinish:i,autoComplete:"off",size:"large",children:[e.jsx(_.Item,{name:"username",label:"Áî®Êà∑Âêç",rules:[{required:!0,message:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"},{min:2,message:"Áî®Êà∑ÂêçËá≥Â∞ë2‰∏™Â≠óÁ¨¶"}],children:e.jsx(M,{prefix:e.jsx(J,{}),placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"})}),e.jsx(_.Item,{name:"password",label:"ÂØÜÁ†Å",rules:[{required:!0,message:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},{min:6,message:"ÂØÜÁ†ÅËá≥Â∞ë6‰∏™Â≠óÁ¨¶"}],children:e.jsx(M.Password,{prefix:e.jsx(ut,{}),placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"})}),e.jsx(_.Item,{children:e.jsx(E,{type:"primary",htmlType:"submit",loading:s,block:!0,style:{height:48,fontSize:16,borderRadius:8},children:s?"ÁôªÂΩï‰∏≠...":"ÁôªÂΩï"})})]}),e.jsxs("div",{style:{marginTop:24,padding:16,background:"#f8f9fa",borderRadius:8,fontSize:12,color:"#666"},children:[e.jsx("div",{style:{marginBottom:8,fontWeight:"bold"},children:"Demo ÊµãËØïË¥¶Âè∑Ôºö"}),e.jsx("div",{children:"Áî®Êà∑ÂêçÔºöAdmin"}),e.jsx("div",{children:"ÂØÜÁ†ÅÔºö5173rongcloud"})]})]})})},er=[{key:"zh",label:"‰∏≠Êñá",flag:"üá®üá≥"},{key:"en",label:"English",flag:"üá∫üá∏"},{key:"ar",label:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©",flag:"üá∏üá¶"}],Je=[{value:"male",label:"Áî∑ÊÄß"},{value:"female",label:"Â•≥ÊÄß"},{value:"other",label:"ÂÖ∂‰ªñ"}],Ze=[{value:"public",label:"ÂÖ¨ÂºÄ"},{value:"private",label:"ÁßÅÊúâ"}],et=[{value:"welcome",label:"Ê¨¢ËøéÊ∂àÊÅØ"},{value:"support",label:"ÊäÄÊúØÊîØÊåÅ"},{value:"product",label:"‰∫ßÂìÅ‰ªãÁªç"},{value:"faq",label:"Â∏∏ËßÅÈóÆÈ¢ò"},{value:"other",label:"ÂÖ∂‰ªñ"}],tt={DEFAULT_PAGE_SIZE:10,PAGE_SIZE_OPTIONS:["10","20","50","100"],SHOW_SIZE_CHANGER:!0,SHOW_QUICK_JUMPER:!0},V={MAX_FILE_SIZE:5*1024*1024,ACCEPTED_IMAGE_TYPES:["image/jpeg","image/jpg","image/png","image/gif","image/webp"],MAX_DISPLAY_IMAGES:6},g={REQUIRED:{required:!0,message:"Ê≠§È°π‰∏∫ÂøÖÂ°´È°π"},PHONE:{pattern:/^1[3-9]\d{9}$/,message:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†ÅÊ†ºÂºè"},AGE:{type:"number",min:1,max:150,message:"Âπ¥ÈæÑÂøÖÈ°ªÂú®1-150‰πãÈó¥"},MAX_LENGTH:{NICKNAME:50,REGION:50,PROFESSION:50,INTRODUCTION:500,TAG:20,GREETING:200,SYSTEM_PROMPT:2e3,TEMPLATE_NAME:100,TEMPLATE_DESCRIPTION:200,TEMPLATE_CONTENT:5e3}},U={CHARACTER:{AGE:25,GENDER:"female",PERMISSION:"public",AVATAR:"https://images.unsplash.com/photo-1494790108755-2616b612b742?w=150&h=150&fit=crop&crop=face"},TEMPLATE:{CATEGORY:"other",IS_ACTIVE:!0}},tr=[{key:"characters",label:"AIËßíËâ≤ÁÆ°ÁêÜ",icon:"UserOutlined",path:"/characters"},{key:"templates",label:"Ê®°ÊùøÁÆ°ÁêÜ",icon:"FileTextOutlined",path:"/templates"},{key:"config",label:"ÈÄöÁî®ÈÖçÁΩÆ",icon:"SettingOutlined",path:"/config"}],{Header:rr,Sider:sr,Content:nr}=he,ar=({children:r})=>{const[s,o]=x.useState(!1),n=H(),a=it(),{user:i,logout:c}=de(),d=()=>{const p=a.hash||window.location.hash,f=a.pathname,S=p?p.replace("#",""):f;return S.includes("/characters")?"characters":S.includes("/templates")?"templates":S.includes("/config")?"config":"characters"},T=({key:p})=>{const f=tr.find(S=>S.key===p);f&&n(f.path)},m=()=>{c(),n("/login")},l=[{key:"logout",icon:e.jsx(yt,{}),label:"ÈÄÄÂá∫ÁôªÂΩï",onClick:m}],t=[{key:"characters",icon:e.jsx(J,{}),label:"AIËßíËâ≤ÁÆ°ÁêÜ"},{key:"templates",icon:e.jsx(gt,{}),label:"Ê®°ÊùøÁÆ°ÁêÜ"},{key:"config",icon:e.jsx(ft,{}),label:"ÈÄöÁî®ÈÖçÁΩÆ"}];return e.jsxs(he,{style:{minHeight:"100vh"},children:[e.jsxs(sr,{trigger:null,collapsible:!0,collapsed:s,theme:"dark",children:[e.jsx("div",{style:{height:64,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid #404040"},children:s?"AI":"AIËßíËâ≤ÁÆ°ÁêÜÂêéÂè∞"}),e.jsx(pt,{theme:"dark",mode:"inline",selectedKeys:[d()],items:t,onClick:T,style:{borderRight:0}})]}),e.jsxs(he,{children:[e.jsxs(rr,{style:{padding:"0 24px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #f0f0f0"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx(E,{type:"text",icon:s?e.jsx(mt,{}):e.jsx(ht,{}),onClick:()=>o(!s),style:{fontSize:"16px",width:64,height:64}})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("span",{children:["Ê¨¢ËøéÔºå",i==null?void 0:i.username]}),e.jsx(xt,{menu:{items:l},placement:"bottomRight",arrow:!0,children:e.jsx(Re,{style:{backgroundColor:"#1890ff",cursor:"pointer"},icon:e.jsx(J,{})})})]})]}),e.jsx(nr,{style:{margin:"24px",padding:"24px",background:"#fff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:r})]})]})},or="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let k=(r=21)=>{let s="",o=crypto.getRandomValues(new Uint8Array(r|=0));for(;r--;)s+=or[o[r]&63];return s};const A=(r,s,o)=>({zh:r,en:s,ar:o}),ir=()=>[{id:k(),botId:`bot_${k()}`,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b742?w=150&h=150&fit=crop&crop=face",gender:"female",age:25,permission:"public",nickname:A("Â∞èÈõÖÂä©Êâã","Xiaoya Assistant","ŸÖÿ≥ÿßÿπÿØ ÿ¥ŸäÿßŸàŸäÿß"),region:A("Âåó‰∫¨","Beijing","ÿ®ŸÉŸäŸÜ"),profession:A("AIÂä©Êâã","AI Assistant","ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä"),introduction:A("ÊàëÊòØÂ∞èÈõÖÔºå‰∏Ä‰∏™ÂèãÂñÑÁöÑAIÂä©ÊâãÔºåÂèØ‰ª•Â∏ÆÂä©ÊÇ®Ëß£Á≠îÈóÆÈ¢òÂíåÊèê‰æõÂª∫ËÆÆ„ÄÇ","I am Xiaoya, a friendly AI assistant who can help answer questions and provide advice.","ÿ£ŸÜÿß ÿ¥ŸäÿßŸàŸäÿßÿå ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä ŸàÿØŸàÿØ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸâ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© Ÿàÿ™ŸÇÿØŸäŸÖ ÿßŸÑŸÜÿµÿßÿ¶ÿ≠."),tags:{zh:["ÂèãÂñÑ","‰∏ì‰∏ö","È´òÊïà"],en:["Friendly","Professional","Efficient"],ar:["ŸàÿØŸàÿØ","ŸÖÿ≠ÿ™ÿ±ŸÅ","ŸÅÿπÿßŸÑ"]},greeting:A("‰Ω†Â•ΩÔºÅÊàëÊòØÂ∞èÈõÖÔºåÂæàÈ´òÂÖ¥‰∏∫ÊÇ®ÊúçÂä°ÔºÅÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÂä©ÊÇ®ÁöÑÂêóÔºü","Hello! I am Xiaoya, nice to serve you! How can I help you?","ŸÖÿ±ÿ≠ÿ®ÿß! ÿ£ŸÜÿß ÿ¥ŸäÿßŸàŸäÿßÿå ŸÖŸÜ ÿØŸàÿßÿπŸä ÿ≥ÿ±Ÿàÿ±Ÿä ÿÆÿØŸÖÿ™ŸÉ! ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉÿü"),displayImages:["https://images.unsplash.com/photo-1494790108755-2616b612b742?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop"],systemPrompt:"You are Xiaoya, a helpful and friendly AI assistant. Always be polite, professional, and try your best to help users with their questions.",whitelist:["13800138000","13900139000"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString()},{id:k(),botId:`bot_${k()}`,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",gender:"male",age:30,permission:"private",nickname:A("ÊäÄÊúØ‰∏ìÂÆ∂Tom","Tech Expert Tom","ÿÆÿ®Ÿäÿ± ÿßŸÑÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß ÿ™ŸàŸÖ"),region:A("‰∏äÊµ∑","Shanghai","ÿ¥ŸÜÿ∫ŸáÿßŸä"),profession:A("ÊäÄÊúØÈ°æÈóÆ","Technical Consultant","ŸÖÿ≥ÿ™ÿ¥ÿßÿ± ÿ™ŸÇŸÜŸä"),introduction:A("ÊàëÊòØTomÔºå‰∏ìÊ≥®‰∫éÊäÄÊúØÈ¢ÜÂüüÁöÑAIÂä©ÊâãÔºåÊìÖÈïøÁºñÁ®ã„ÄÅÊû∂ÊûÑËÆæËÆ°ÂíåÊäÄÊúØÂí®ËØ¢„ÄÇ","I am Tom, an AI assistant focused on technology, specializing in programming, architecture design, and technical consulting.","ÿ£ŸÜÿß ÿ™ŸàŸÖÿå ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä Ÿäÿ±ŸÉÿ≤ ÿπŸÑŸâ ÿßŸÑÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿßÿå ŸÖÿ™ÿÆÿµÿµ ŸÅŸä ÿßŸÑÿ®ÿ±ŸÖÿ¨ÿ© Ÿàÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿ®ŸÜŸäÿ© ÿßŸÑÿ™ÿ≠ÿ™Ÿäÿ© ŸàÿßŸÑÿßÿ≥ÿ™ÿ¥ÿßÿ±ÿßÿ™ ÿßŸÑÿ™ŸÇŸÜŸäÿ©."),tags:{zh:["ÊäÄÊúØ","ÁºñÁ®ã","Êû∂ÊûÑ","‰∏ì‰∏ö"],en:["Technology","Programming","Architecture","Professional"],ar:["ÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß","ÿ®ÿ±ŸÖÿ¨ÿ©","ŸáŸÜÿØÿ≥ÿ© ŸÖÿπŸÖÿßÿ±Ÿäÿ©","ŸÖÿ≠ÿ™ÿ±ŸÅ"]},greeting:A("ÊÇ®Â•ΩÔºÅÊàëÊòØTomÔºåÊÇ®ÁöÑÊäÄÊúØÈ°æÈóÆ„ÄÇÊúâ‰ªÄ‰πàÊäÄÊúØÈóÆÈ¢òÈúÄË¶ÅÊé¢ËÆ®ÂêóÔºü","Hello! I am Tom, your technical consultant. Any technical questions to discuss?","ŸÖÿ±ÿ≠ÿ®ÿß! ÿ£ŸÜÿß ÿ™ŸàŸÖÿå ŸÖÿ≥ÿ™ÿ¥ÿßÿ±ŸÉ ÿßŸÑÿ™ŸÇŸÜŸä. ŸáŸÑ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ™ŸÇŸÜŸäÿ© ŸÑŸÑŸÖŸÜÿßŸÇÿ¥ÿ©ÿü"),displayImages:["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1560250097-0b93528c311a?w=300&h=400&fit=crop"],systemPrompt:"You are Tom, a technical expert AI assistant. You specialize in programming, software architecture, and providing technical solutions. Be precise, helpful, and professional.",whitelist:["13700137000","13600136000","13500135000"],createdAt:new Date("2024-01-10").toISOString(),updatedAt:new Date("2024-01-18").toISOString()},{id:k(),botId:`bot_${k()}`,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",gender:"female",age:28,permission:"public",nickname:A("ÂàõÊÑèËÆæËÆ°Â∏àLily","Creative Designer Lily","ÿßŸÑŸÖÿµŸÖŸÖÿ© ÿßŸÑÿ•ÿ®ÿØÿßÿπŸäÿ© ŸÑŸäŸÑŸä"),region:A("Ê∑±Âú≥","Shenzhen","ÿ¥ŸÜÿ™ÿ¥ŸÜ"),profession:A("UI/UXËÆæËÆ°Â∏à","UI/UX Designer","ŸÖÿµŸÖŸÖ Ÿàÿßÿ¨Ÿáÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"),introduction:A("ÊàëÊòØLilyÔºå‰∏ì‰∏öÁöÑUI/UXËÆæËÆ°Â∏àÔºåÁÉ≠Áà±ÂàõÊÑèËÆæËÆ°ÔºåÂèØ‰ª•‰∏∫ÊÇ®Êèê‰æõËÆæËÆ°Âª∫ËÆÆÂíåÂàõÊÑèÁÅµÊÑü„ÄÇ","I am Lily, a professional UI/UX designer who loves creative design and can provide design advice and creative inspiration.","ÿ£ŸÜÿß ŸÑŸäŸÑŸäÿå ŸÖÿµŸÖŸÖÿ© Ÿàÿßÿ¨Ÿáÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿ≠ÿ™ÿ±ŸÅÿ© ÿ£ÿ≠ÿ® ÿßŸÑÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿ•ÿ®ÿØÿßÿπŸä ŸàŸäŸÖŸÉŸÜŸÜŸä ÿ™ŸÇÿØŸäŸÖ ŸÜÿµÿßÿ¶ÿ≠ ÿßŸÑÿ™ÿµŸÖŸäŸÖ ŸàÿßŸÑÿ•ŸÑŸáÿßŸÖ ÿßŸÑÿ•ÿ®ÿØÿßÿπŸä."),tags:{zh:["ÂàõÊÑè","ËÆæËÆ°","ÁæéÂ≠¶","Áî®Êà∑‰ΩìÈ™å"],en:["Creative","Design","Aesthetic","User Experience"],ar:["ÿ•ÿ®ÿØÿßÿπŸä","ÿ™ÿµŸÖŸäŸÖ","ÿ¨ŸÖÿßŸÑŸä","ÿ™ÿ¨ÿ±ÿ®ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"]},greeting:A("Âó®ÔºÅÊàëÊòØLilyÔºåËÆ©Êàë‰ª¨‰∏ÄËµ∑ÂàõÈÄ†ÁæéÂ•ΩÁöÑËÆæËÆ°ÂêßÔºÅÊúâ‰ªÄ‰πàËÆæËÆ°ÈúÄÊ±ÇÂêóÔºü","Hi! I am Lily, let's create beautiful designs together! Any design needs?","ŸÖÿ±ÿ≠ÿ®ÿß! ÿ£ŸÜÿß ŸÑŸäŸÑŸäÿå ÿØÿπŸàŸÜÿß ŸÜŸÜÿ¥ÿ¶ ÿ™ÿµÿßŸÖŸäŸÖ ÿ¨ŸÖŸäŸÑÿ© ŸÖÿπÿß! ŸáŸÑ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ ÿ™ÿµŸÖŸäŸÖŸäÿ©ÿü"),displayImages:["https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=300&h=400&fit=crop"],systemPrompt:"You are Lily, a creative UI/UX designer AI assistant. You are passionate about design, aesthetics, and user experience. Provide creative and practical design advice.",whitelist:[],createdAt:new Date("2024-01-12").toISOString(),updatedAt:new Date("2024-01-22").toISOString()}],lr=()=>[{id:k(),name:A("Ê¨¢ËøéÊ∂àÊÅØÊ®°Êùø","Welcome Message Template","ŸÇÿßŸÑÿ® ÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑÿ™ÿ±ÿ≠Ÿäÿ®"),description:A("Áî®‰∫éÊñ∞Áî®Êà∑ÁöÑÊ¨¢ËøéÊ∂àÊÅØÊ®°Êùø","Welcome message template for new users","ŸÇÿßŸÑÿ® ÿ±ÿ≥ÿßŸÑÿ© ÿ™ÿ±ÿ≠Ÿäÿ® ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ÿßŸÑÿ¨ÿØÿØ"),content:A("Ê¨¢ËøéÊù•Âà∞Êàë‰ª¨ÁöÑÂπ≥Âè∞ÔºÅÊàë‰ª¨ÂæàÈ´òÂÖ¥ÊÇ®ÁöÑÂä†ÂÖ•„ÄÇÂ¶ÇÊûúÊÇ®Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåËØ∑ÈöèÊó∂ËÅîÁ≥ªÊàë‰ª¨„ÄÇ","Welcome to our platform! We are glad to have you join us. If you have any questions, please feel free to contact us.","ŸÖÿ±ÿ≠ÿ®ÿß ÿ®ŸÉ ŸÅŸä ŸÖŸÜÿµÿ™ŸÜÿß! ŸÜÿ≠ŸÜ ÿ≥ÿπÿØÿßÿ° ŸÑÿßŸÜÿ∂ŸÖÿßŸÖŸÉ ÿ•ŸÑŸäŸÜÿß. ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÑÿØŸäŸÉ ÿ£Ÿä ÿ£ÿ≥ÿ¶ŸÑÿ©ÿå ŸÑÿß ÿ™ÿ™ÿ±ÿØÿØ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÜÿß."),category:"welcome",isActive:!0,createdAt:new Date("2024-01-08").toISOString(),updatedAt:new Date("2024-01-15").toISOString()},{id:k(),name:A("ÊäÄÊúØÊîØÊåÅÊ®°Êùø","Technical Support Template","ŸÇÿßŸÑÿ® ÿßŸÑÿØÿπŸÖ ÿßŸÑÿ™ŸÇŸÜŸä"),description:A("ÊäÄÊúØÊîØÊåÅÁõ∏ÂÖ≥ÁöÑÂõûÂ§çÊ®°Êùø","Reply template for technical support","ŸÇÿßŸÑÿ® ÿßŸÑÿ±ÿØ ŸÑŸÑÿØÿπŸÖ ÿßŸÑÿ™ŸÇŸÜŸä"),content:A("ÊÑüË∞¢ÊÇ®ÁöÑÂèçÈ¶à„ÄÇÊàë‰ª¨ÁöÑÊäÄÊúØÂõ¢ÈòüÊ≠£Âú®Â§ÑÁêÜÊÇ®ÁöÑÈóÆÈ¢òÔºåÈ¢ÑËÆ°Âú®24Â∞èÊó∂ÂÜÖÁªôÊÇ®ÂõûÂ§ç„ÄÇ","Thank you for your feedback. Our technical team is working on your issue and we expect to reply within 24 hours.","ÿ¥ŸÉÿ±ÿß ŸÑŸÉ ÿπŸÑŸâ ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ŸÉ. ŸÅÿ±ŸäŸÇŸÜÿß ÿßŸÑÿ™ŸÇŸÜŸä ŸäÿπŸÖŸÑ ÿπŸÑŸâ ŸÖÿ¥ŸÉŸÑÿ™ŸÉ ŸàŸÜÿ™ŸàŸÇÿπ ÿßŸÑÿ±ÿØ ÿÆŸÑÿßŸÑ 24 ÿ≥ÿßÿπÿ©."),category:"support",isActive:!0,createdAt:new Date("2024-01-10").toISOString(),updatedAt:new Date("2024-01-12").toISOString()},{id:k(),name:A("‰∫ßÂìÅ‰ªãÁªçÊ®°Êùø","Product Introduction Template","ŸÇÿßŸÑÿ® ÿ™ŸÇÿØŸäŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨"),description:A("Áî®‰∫é‰ªãÁªç‰∫ßÂìÅÂäüËÉΩÁöÑÊ®°Êùø","Template for introducing product features","ŸÇÿßŸÑÿ® ŸÑÿ™ŸÇÿØŸäŸÖ ŸÖŸäÿ≤ÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨"),content:A("Êàë‰ª¨ÁöÑ‰∫ßÂìÅÂÖ∑Êúâ‰ª•‰∏ãÁâπÁÇπÔºö1. Êô∫ËÉΩÂåñÊìç‰Ωú 2. È´òÊïàÊÄßËÉΩ 3. Áî®Êà∑ÂèãÂ•ΩÁïåÈù¢ 4. ÂÆâÂÖ®ÂèØÈù†","Our product has the following features: 1. Intelligent operation 2. High efficiency 3. User-friendly interface 4. Safe and reliable","ŸÖŸÜÿ™ÿ¨ŸÜÿß ŸÑŸá ÿßŸÑŸÖŸäÿ≤ÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸäÿ©: 1. ÿ™ÿ¥ÿ∫ŸäŸÑ ÿ∞ŸÉŸä 2. ŸÉŸÅÿßÿ°ÿ© ÿπÿßŸÑŸäÿ© 3. Ÿàÿßÿ¨Ÿáÿ© ÿ≥ŸáŸÑÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ 4. ÿ¢ŸÖŸÜ ŸàŸÖŸàÿ´ŸàŸÇ"),category:"product",isActive:!1,createdAt:new Date("2024-01-05").toISOString(),updatedAt:new Date("2024-01-20").toISOString()}],cr=()=>({defaultAvatars:["https://images.unsplash.com/photo-1494790108755-2616b612b742?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face"]}),rt=x.createContext(void 0),F=()=>{const r=x.useContext(rt);if(r===void 0)throw new Error("useData must be used within a DataProvider");return r};function ue(r,s,o){try{const n=localStorage.getItem(r);if(!n)return s;const a=JSON.parse(n);return o&&!o(a)?(console.warn("Invalid data format for key: "+r+", using default value"),s):a}catch(n){return console.warn("Failed to parse localStorage data for key: "+r,n),s}}const dr=r=>Array.isArray(r)&&r.every(s=>s&&typeof s=="object"&&typeof s.id=="string"&&typeof s.botId=="string"),ur=r=>Array.isArray(r)&&r.every(s=>s&&typeof s=="object"&&typeof s.id=="string"&&typeof s.name=="object"),pr=r=>r&&typeof r=="object"&&Array.isArray(r.defaultAvatars),mr=({children:r})=>{Ce.useEffect(()=>{const u="1.0.0";localStorage.getItem("demo_data_version")!==u&&(localStorage.removeItem("demo_characters"),localStorage.removeItem("demo_templates"),localStorage.removeItem("demo_config"),localStorage.setItem("demo_data_version",u),console.log("Data cleaned up for version:",u))},[]);const[s,o]=x.useState(()=>ue("demo_characters",ir(),dr)),[n,a]=x.useState(()=>ue("demo_templates",lr(),ur)),[i,c]=x.useState(()=>ue("demo_config",cr(),pr)),d=x.useCallback((u,y)=>{try{localStorage.setItem(u,JSON.stringify(y))}catch(j){console.error("Failed to save data to localStorage for key: "+u,j)}},[]),T=x.useCallback(u=>{const y={...u,id:k(),botId:`bot_${k()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};o(j=>{const b=[...j,y];return d("demo_characters",b),b})},[d]),m=x.useCallback((u,y)=>{o(j=>{const b=j.map(P=>P.id===u?{...P,...y,updatedAt:new Date().toISOString()}:P);return d("demo_characters",b),b})},[d]),l=x.useCallback(u=>{o(y=>{const j=y.filter(b=>b.id!==u);return d("demo_characters",j),j})},[d]),t=x.useCallback(u=>s.find(y=>y.id===u),[s]),p=x.useCallback(u=>{const y={...u,id:k(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(j=>{const b=[...j,y];return d("demo_templates",b),b})},[d]),f=x.useCallback((u,y)=>{a(j=>{const b=j.map(P=>P.id===u?{...P,...y,updatedAt:new Date().toISOString()}:P);return d("demo_templates",b),b})},[d]),S=x.useCallback(u=>{a(y=>{const j=y.filter(b=>b.id!==u);return d("demo_templates",j),j})},[d]),h=x.useCallback(u=>n.find(y=>y.id===u),[n]),v=x.useCallback(u=>{c(y=>{const j={...y,...u};return d("demo_config",j),j})},[d]),w=x.useCallback((u,y)=>{const j=s.find(b=>b.id===u);j&&m(u,{whitelist:[...j.whitelist||[],y]})},[m,s]),N=x.useCallback((u,y)=>{const j=s.find(b=>b.id===u);j&&m(u,{whitelist:(j.whitelist||[]).filter(b=>b!==y)})},[m,s]),B={characters:s,addCharacter:T,updateCharacter:m,deleteCharacter:l,getCharacter:t,templates:n,addTemplate:p,updateTemplate:f,deleteTemplate:S,getTemplate:h,config:i,updateConfig:v,addToWhitelist:w,removeFromWhitelist:N};return e.jsx(rt.Provider,{value:B,children:r})},hr=({open:r,onCancel:s,characterId:o,characterName:n})=>{const[a,i]=x.useState(""),[c,d]=x.useState(!1),{characters:T,addToWhitelist:m,removeFromWhitelist:l}=F(),t=T.find(v=>v.id===o),p=(t==null?void 0:t.whitelist)||[],f=async()=>{if(!a.trim()){I.error("ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑");return}if(!g.PHONE.pattern.test(a)){I.error(g.PHONE.message);return}if(p.includes(a)){I.error("ËØ•ÊâãÊú∫Âè∑Â∑≤Â≠òÂú®");return}d(!0);try{await new Promise(v=>setTimeout(v,500)),m(o,a),i(""),I.success("Ê∑ªÂä†ÊàêÂäü")}catch{I.error("Ê∑ªÂä†Â§±Ë¥•")}finally{d(!1)}},S=async v=>{d(!0);try{await new Promise(w=>setTimeout(w,300)),l(o,v),I.success("ÁßªÈô§ÊàêÂäü")}catch{I.error("ÁßªÈô§Â§±Ë¥•")}finally{d(!1)}},h=v=>{v.key==="Enter"&&f()};return e.jsxs(ge,{title:e.jsxs("div",{children:[e.jsx(je,{style:{marginRight:8}}),"ÁôΩÂêçÂçïÁÆ°ÁêÜ - ",n]}),open:r,onCancel:s,width:600,footer:null,children:[e.jsx("div",{style:{marginBottom:16},children:e.jsxs(M.Group,{compact:!0,style:{display:"flex"},children:[e.jsx(M,{placeholder:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑ÔºàÂ¶ÇÔºö13800138000Ôºâ",value:a,onChange:v=>i(v.target.value),onKeyPress:h,style:{flex:1},maxLength:11}),e.jsx(E,{type:"primary",icon:e.jsx(G,{}),onClick:f,loading:c,children:"Ê∑ªÂä†"})]})}),e.jsx("div",{style:{maxHeight:400,overflowY:"auto",border:"1px solid #f0f0f0",borderRadius:6,padding:8},children:p.length===0?e.jsx(fe,{description:"ÊöÇÊó†ÁôΩÂêçÂçïÁî®Êà∑",image:fe.PRESENTED_IMAGE_SIMPLE,style:{padding:"40px 0"}}):e.jsx(ye,{dataSource:p,renderItem:(v,w)=>e.jsx(ye.Item,{actions:[e.jsx(ee,{title:"Á°ÆËÆ§ÁßªÈô§",description:`Á°ÆÂÆöË¶ÅÂ∞Ü ${v} ‰ªéÁôΩÂêçÂçï‰∏≠ÁßªÈô§ÂêóÔºü`,onConfirm:()=>S(v),okText:"Á°ÆËÆ§",cancelText:"ÂèñÊ∂à",children:e.jsx(E,{type:"text",danger:!0,icon:e.jsx(te,{}),size:"small"})})],style:{padding:"8px 12px",backgroundColor:w%2===0?"#fafafa":"#fff",borderRadius:4,margin:"4px 0"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(je,{style:{marginRight:8,color:"#1890ff"}}),e.jsx("span",{style:{fontFamily:"monospace",fontSize:14},children:v})]})},v)})}),e.jsxs("div",{style:{marginTop:16,padding:12,backgroundColor:"#f6f8fa",borderRadius:6,fontSize:12,color:"#666"},children:[e.jsx("div",{style:{marginBottom:4},children:e.jsx("strong",{children:"ËØ¥ÊòéÔºö"})}),e.jsx("div",{children:"‚Ä¢ Âè™ÊúâÁôΩÂêçÂçï‰∏≠ÁöÑÊâãÊú∫Âè∑ÊâçËÉΩËÆøÈóÆËØ•ÁßÅÊúâAIËßíËâ≤"}),e.jsx("div",{children:"‚Ä¢ ÊâãÊú∫Âè∑Ê†ºÂºèÔºö‰ª•1ÂºÄÂ§¥ÁöÑ11‰ΩçÊï∞Â≠ó"}),e.jsxs("div",{children:["‚Ä¢ ÂΩìÂâçÁôΩÂêçÂçïÁî®Êà∑Êï∞ÈáèÔºö",p.length]})]})]})},{Search:xr}=M,{Title:gr,Text:Ie}=z,fr=()=>{const r=H(),{characters:s,deleteCharacter:o}=F(),[n,a]=x.useState(""),[i,c]=x.useState({open:!1,characterId:"",characterName:""}),d=x.useMemo(()=>n.trim()?s.filter(t=>{const p=n.toLowerCase();return t.botId.toLowerCase().includes(p)||t.nickname.zh.toLowerCase().includes(p)||t.nickname.en.toLowerCase().includes(p)||t.nickname.ar.toLowerCase().includes(p)}):s,[s,n]),T=async t=>{try{o(t.id),I.success("Âà†Èô§ÊàêÂäü")}catch{I.error("Âà†Èô§Â§±Ë¥•")}},m=t=>{c({open:!0,characterId:t.id,characterName:t.nickname.zh})},l=[{title:"Bot ID",dataIndex:"botId",key:"botId",width:150,render:t=>e.jsx(Ie,{code:!0,style:{fontSize:12},children:t})},{title:"Â§¥ÂÉè",dataIndex:"avatar",key:"avatar",width:80,render:t=>e.jsx(Re,{src:t,size:48})},{title:"ÊòµÁß∞",dataIndex:"nickname",key:"nickname",render:(t,p)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,marginBottom:4},children:t.zh}),e.jsxs("div",{style:{fontSize:12,color:"#666"},children:[p.profession.zh," ¬∑ ",p.region.zh]})]})},{title:"ÊÄßÂà´/Âπ¥ÈæÑ",key:"genderAge",width:100,render:t=>{var f;return`${(f=Je.find(S=>S.value===t.gender))==null?void 0:f.label} / ${t.age}Â≤Å`}},{title:"ÊùÉÈôê",dataIndex:"permission",key:"permission",width:100,render:t=>{const p=Ze.find(f=>f.value===t);return e.jsx(Z,{color:t==="public"?"green":"orange",children:p==null?void 0:p.label})}},{title:"ÁôΩÂêçÂçïÁî®Êà∑",key:"whitelistCount",width:120,render:t=>e.jsx("div",{style:{textAlign:"center"},children:t.permission==="private"?e.jsxs(Z,{color:"blue",children:[t.whitelist.length," ‰∫∫"]}):e.jsx(Ie,{type:"secondary",children:"-"})})},{title:"ÊúÄÂêéÊõ¥Êñ∞",dataIndex:"updatedAt",key:"updatedAt",width:140,sorter:(t,p)=>D(t.updatedAt).unix()-D(p.updatedAt).unix(),render:t=>e.jsx("div",{style:{fontSize:12},children:D(t).format("YYYY-MM-DD HH:mm")})},{title:"Êìç‰Ωú",key:"actions",width:200,render:t=>e.jsxs(Y,{size:"small",children:[e.jsx(E,{type:"link",size:"small",icon:e.jsx(ke,{}),onClick:()=>r(`/characters/edit/${t.id}`),children:"Êü•Áúã"}),e.jsx(E,{type:"link",size:"small",icon:e.jsx(Me,{}),onClick:()=>r(`/characters/edit/${t.id}`),children:"ÁºñËæë"}),t.permission==="private"&&e.jsx(E,{type:"link",size:"small",icon:e.jsx(jt,{}),onClick:()=>m(t),children:"ÁôΩÂêçÂçï"}),e.jsx(ee,{title:"Á°ÆËÆ§Âà†Èô§",description:e.jsxs("div",{children:[e.jsxs("div",{children:["Á°ÆÂÆöË¶ÅÂà†Èô§ËßíËâ≤ ",e.jsx("strong",{children:t.nickname.zh})," ÂêóÔºü"]}),e.jsx("div",{style:{color:"#ff4d4f",fontSize:12,marginTop:4},children:"Ê≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç"})]}),onConfirm:()=>T(t),okText:"Á°ÆËÆ§Âà†Èô§",cancelText:"ÂèñÊ∂à",okButtonProps:{danger:!0},children:e.jsx(E,{type:"link",size:"small",danger:!0,icon:e.jsx(te,{}),children:"Âà†Èô§"})})]})}];return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx(gr,{level:3,style:{margin:0},children:"AIËßíËâ≤ÁÆ°ÁêÜ"}),e.jsx(E,{type:"primary",icon:e.jsx(G,{}),onClick:()=>r("/characters/new"),size:"large",children:"Êñ∞Â¢ûAIËßíËâ≤"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:{display:"flex",gap:16,alignItems:"center"},children:e.jsx(xr,{placeholder:"ÊêúÁ¥¢ËßíËâ≤ÊòµÁß∞ÊàñBot ID",style:{width:300},onSearch:a,onChange:t=>a(t.target.value),allowClear:!0})}),e.jsxs("div",{style:{color:"#666",fontSize:14},children:["ÂÖ± ",d.length," ‰∏™ËßíËâ≤"]})]})]}),e.jsx(C,{children:e.jsx(Le,{columns:l,dataSource:d,rowKey:"id",pagination:{...tt,total:d.length,showTotal:(t,p)=>`Á¨¨ ${p[0]}-${p[1]} Êù°ÔºåÂÖ± ${t} Êù°`},scroll:{x:1200}})}),e.jsx(hr,{open:i.open,onCancel:()=>c({open:!1,characterId:"",characterName:""}),characterId:i.characterId,characterName:i.characterName})]})},st=({activeLanguage:r,onChange:s,className:o="language-tabs"})=>{const n=er.map(a=>({key:a.key,label:e.jsxs("span",{children:[a.flag," ",a.label]})}));return e.jsx(vt,{activeKey:r,onChange:a=>s(a),items:n,className:o,size:"large",type:"card"})},be=({value:r=[],onChange:s,maxCount:o=1,listType:n="picture-card",disabled:a=!1})=>{const[i,c]=x.useState(!1),[d,T]=x.useState(""),[m,l]=x.useState(""),t=u=>new Promise(y=>{setTimeout(()=>{const j=URL.createObjectURL(u);y(j)},1e3)}),p=u=>new Promise((y,j)=>{const b=new FileReader;b.readAsDataURL(u),b.onload=()=>y(b.result),b.onerror=P=>j(P)}),f=r.map((u,y)=>({uid:`${y}`,name:`image-${y}.jpg`,status:"done",url:u})),S=async u=>{!u.url&&!u.preview&&(u.preview=await p(u.originFileObj)),T(u.url||u.preview),c(!0),l(u.name||u.url.substring(u.url.lastIndexOf("/")+1))},h=u=>V.ACCEPTED_IMAGE_TYPES.includes(u.type)?u.size<=V.MAX_FILE_SIZE?!0:(I.error("ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá 5MBÔºÅ"),!1):(I.error("Âè™ËÉΩ‰∏ä‰º† JPG/PNG/GIF/WebP Ê†ºÂºèÁöÑÂõæÁâáÔºÅ"),!1),v=async u=>{const{file:y,onSuccess:j,onError:b}=u;try{const P=await t(y);j({url:P},y)}catch(P){console.error("Upload failed:",P),b(P)}},w=({fileList:u})=>{const y=u.filter(j=>j.status==="done").map(j=>{var b;return((b=j.response)==null?void 0:b.url)||j.url}).filter(Boolean);s==null||s(y)},N=u=>{const y=r.filter(j=>j!==u.url);s==null||s(y)},B=e.jsxs("div",{children:[e.jsx(G,{}),e.jsx("div",{style:{marginTop:8},children:"‰∏ä‰º†ÂõæÁâá"})]});return e.jsxs(e.Fragment,{children:[e.jsx(Ne,{customRequest:v,listType:n,fileList:f,onPreview:S,onChange:w,onRemove:N,beforeUpload:h,disabled:a,multiple:o>1,children:f.length>=o?null:B}),e.jsx(ge,{open:i,title:m,footer:null,onCancel:()=>c(!1),children:e.jsx("img",{alt:"preview",style:{width:"100%"},src:d})})]})},{Title:yr}=z,{TextArea:pe}=M,_e=()=>{const[r]=_.useForm(),s=H(),{id:o}=Pe(),n=!!o,{addCharacter:a,updateCharacter:i,getCharacter:c}=F(),[d,T]=x.useState(!1),[m,l]=x.useState("zh"),[t,p]=x.useState(null);x.useEffect(()=>{if(n&&o){const h=c(o);h?(p(h),r.setFieldsValue({...h,nickname:h.nickname[m],region:h.region[m],profession:h.profession[m],introduction:h.introduction[m],tags:h.tags[m],greeting:h.greeting[m]})):(I.error("ËßíËâ≤‰∏çÂ≠òÂú®"),s("/characters"))}else r.setFieldsValue({avatar:U.CHARACTER.AVATAR,gender:U.CHARACTER.GENDER,age:U.CHARACTER.AGE,permission:U.CHARACTER.PERMISSION,displayImages:[],tags:[]})},[n,o,c,r,s,m]),x.useEffect(()=>{t&&r.setFieldsValue({nickname:t.nickname[m],region:t.region[m],profession:t.profession[m],introduction:t.introduction[m],tags:t.tags[m],greeting:t.greeting[m]})},[m,t,r]);const f=(h,v)=>({...v||{zh:"",en:"",ar:""},[m]:h||""}),S=async h=>{T(!0);try{const v={nickname:f(h.nickname,t==null?void 0:t.nickname),region:f(h.region,t==null?void 0:t.region),profession:f(h.profession,t==null?void 0:t.profession),introduction:f(h.introduction,t==null?void 0:t.introduction),greeting:f(h.greeting,t==null?void 0:t.greeting),tags:{...(t==null?void 0:t.tags)||{zh:[],en:[],ar:[]},[m]:h.tags||[]}},w={avatar:h.avatar,gender:h.gender,age:h.age,permission:h.permission,displayImages:h.displayImages||[],systemPrompt:h.systemPrompt||"",whitelist:(t==null?void 0:t.whitelist)||[],...v};await new Promise(N=>setTimeout(N,1e3)),n&&t?(i(t.id,w),I.success("Êõ¥Êñ∞ÊàêÂäü")):(a(w),I.success("ÂàõÂª∫ÊàêÂäü")),s("/characters")}catch(v){I.error(n?"Êõ¥Êñ∞Â§±Ë¥•":"ÂàõÂª∫Â§±Ë¥•"),console.error("Submit error:",v)}finally{T(!1)}};return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:24},children:e.jsxs(Y,{children:[e.jsx(E,{icon:e.jsx(Oe,{}),onClick:()=>s("/characters"),children:"ËøîÂõûÂàóË°®"}),e.jsx(yr,{level:3,style:{margin:0},children:n?"ÁºñËæëAIËßíËâ≤":"Êñ∞Â¢ûAIËßíËâ≤"}),n&&t&&e.jsxs(Z,{color:"blue",children:["Bot ID: ",t.botId]})]})}),e.jsx(C,{children:e.jsxs(_,{form:r,layout:"vertical",onFinish:S,scrollToFirstError:!0,children:[e.jsxs(X,{gutter:24,children:[e.jsxs($,{xs:24,lg:12,children:[e.jsxs(C,{title:"Âü∫Êú¨‰ø°ÊÅØ",size:"small",style:{marginBottom:24},children:[e.jsx(_.Item,{name:"avatar",label:"Â§¥ÂÉè",rules:[g.REQUIRED],children:e.jsx(be,{maxCount:1})}),e.jsxs(X,{gutter:16,children:[e.jsx($,{span:12,children:e.jsx(_.Item,{name:"gender",label:"ÊÄßÂà´",rules:[g.REQUIRED],children:e.jsx(K,{options:Je})})}),e.jsx($,{span:12,children:e.jsx(_.Item,{name:"age",label:"Âπ¥ÈæÑ",rules:[g.REQUIRED,g.AGE],children:e.jsx(Tt,{min:1,max:150,style:{width:"100%"}})})})]}),e.jsx(_.Item,{name:"permission",label:"ÊùÉÈôêËÆæÁΩÆ",rules:[g.REQUIRED],children:e.jsx(K,{options:Ze})})]}),e.jsx(C,{title:"Â™í‰Ωì‰ø°ÊÅØ",size:"small",style:{marginBottom:24},children:e.jsx(_.Item,{name:"displayImages",label:"Â±ïÁ§∫ÂõæÁâá",help:"ÊúÄÂ§öÂèØ‰∏ä‰º†6Âº†Â±ïÁ§∫ÂõæÁâá",children:e.jsx(be,{maxCount:6})})}),e.jsx(C,{title:"È´òÁ∫ßËÆæÁΩÆ",size:"small",children:e.jsx(_.Item,{name:"systemPrompt",label:"System Prompt",help:"Á≥ªÁªüÊèêÁ§∫ËØçÔºåÁî®‰∫éÊåáÂØºAIÁöÑË°å‰∏∫ÂíåÂõûÂ§çÈ£éÊ†º",rules:[{max:g.MAX_LENGTH.SYSTEM_PROMPT,message:`ÊúÄÂ§ö${g.MAX_LENGTH.SYSTEM_PROMPT}‰∏™Â≠óÁ¨¶`}],children:e.jsx(pe,{rows:6,placeholder:"ËæìÂÖ•Á≥ªÁªüÊèêÁ§∫ËØçÔºå‰æãÂ¶ÇÔºöYou are a helpful and friendly AI assistant...",showCount:!0,maxLength:g.MAX_LENGTH.SYSTEM_PROMPT})})})]}),e.jsx($,{xs:24,lg:12,children:e.jsxs(C,{title:"Â§öËØ≠Ë®Ä‰ø°ÊÅØ",size:"small",extra:e.jsx(st,{activeLanguage:m,onChange:l}),children:[e.jsx(_.Item,{name:"nickname",label:"ÊòµÁß∞",rules:[g.REQUIRED,{max:g.MAX_LENGTH.NICKNAME,message:`ÊúÄÂ§ö${g.MAX_LENGTH.NICKNAME}‰∏™Â≠óÁ¨¶`}],children:e.jsx(M,{placeholder:"ËæìÂÖ•ËßíËâ≤ÊòµÁß∞",maxLength:g.MAX_LENGTH.NICKNAME})}),e.jsxs(X,{gutter:16,children:[e.jsx($,{span:12,children:e.jsx(_.Item,{name:"region",label:"Âú∞Âå∫",rules:[g.REQUIRED,{max:g.MAX_LENGTH.REGION,message:`ÊúÄÂ§ö${g.MAX_LENGTH.REGION}‰∏™Â≠óÁ¨¶`}],children:e.jsx(M,{placeholder:"Â¶ÇÔºöÂåó‰∫¨",maxLength:g.MAX_LENGTH.REGION})})}),e.jsx($,{span:12,children:e.jsx(_.Item,{name:"profession",label:"ËÅå‰∏ö",rules:[g.REQUIRED,{max:g.MAX_LENGTH.PROFESSION,message:`ÊúÄÂ§ö${g.MAX_LENGTH.PROFESSION}‰∏™Â≠óÁ¨¶`}],children:e.jsx(M,{placeholder:"Â¶ÇÔºöAIÂä©Êâã",maxLength:g.MAX_LENGTH.PROFESSION})})})]}),e.jsx(_.Item,{name:"introduction",label:"‰ªãÁªç",rules:[g.REQUIRED,{max:g.MAX_LENGTH.INTRODUCTION,message:`ÊúÄÂ§ö${g.MAX_LENGTH.INTRODUCTION}‰∏™Â≠óÁ¨¶`}],children:e.jsx(pe,{rows:4,placeholder:"ËæìÂÖ•ËßíËâ≤‰ªãÁªç",showCount:!0,maxLength:g.MAX_LENGTH.INTRODUCTION})}),e.jsx(_.Item,{name:"tags",label:"Ê†áÁ≠æ",help:"ËæìÂÖ•Ê†áÁ≠æÂêéÊåâÂõûËΩ¶ÈîÆÊ∑ªÂä†",children:e.jsx(K,{mode:"tags",placeholder:"Ê∑ªÂä†Ê†áÁ≠æ",maxTagCount:5,maxTagTextLength:g.MAX_LENGTH.TAG})}),e.jsx(_.Item,{name:"greeting",label:"ÂºÄÂú∫ÁôΩ",rules:[g.REQUIRED,{max:g.MAX_LENGTH.GREETING,message:`ÊúÄÂ§ö${g.MAX_LENGTH.GREETING}‰∏™Â≠óÁ¨¶`}],children:e.jsx(pe,{rows:3,placeholder:"ËæìÂÖ•ËßíËâ≤ÁöÑÂºÄÂú∫ÁôΩ",showCount:!0,maxLength:g.MAX_LENGTH.GREETING})})]})})]}),e.jsx(De,{}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs(Y,{children:[e.jsx(E,{size:"large",onClick:()=>s("/characters"),children:"ÂèñÊ∂à"}),e.jsx(E,{type:"primary",htmlType:"submit",loading:d,size:"large",icon:e.jsx($e,{}),children:d?"‰øùÂ≠ò‰∏≠...":n?"Êõ¥Êñ∞ËßíËâ≤":"ÂàõÂª∫ËßíËâ≤"})]})})]})})]})},{Search:jr}=M,{Title:vr}=z,Tr=()=>{const r=H(),{templates:s,deleteTemplate:o,updateTemplate:n}=F(),[a,i]=x.useState(""),c=x.useMemo(()=>a.trim()?s.filter(l=>{const t=a.toLowerCase();return l.name.zh.toLowerCase().includes(t)||l.name.en.toLowerCase().includes(t)||l.name.ar.toLowerCase().includes(t)||l.description.zh.toLowerCase().includes(t)||l.description.en.toLowerCase().includes(t)||l.description.ar.toLowerCase().includes(t)||l.category.toLowerCase().includes(t)}):s,[s,a]),d=async l=>{try{o(l.id),I.success("Âà†Èô§ÊàêÂäü")}catch{I.error("Âà†Èô§Â§±Ë¥•")}},T=async(l,t)=>{try{n(l.id,{isActive:t}),I.success(t?"Â∑≤ÂêØÁî®":"Â∑≤Á¶ÅÁî®")}catch{I.error("Êìç‰ΩúÂ§±Ë¥•")}},m=[{title:"Ê®°ÊùøÂêçÁß∞",dataIndex:"name",key:"name",render:(l,t)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,marginBottom:4},children:l.zh}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:t.description.zh})]})},{title:"ÂàÜÁ±ª",dataIndex:"category",key:"category",width:120,render:l=>{const t=et.find(p=>p.value===l);return e.jsx(Z,{color:"blue",children:(t==null?void 0:t.label)||l})}},{title:"Áä∂ÊÄÅ",dataIndex:"isActive",key:"isActive",width:100,render:(l,t)=>e.jsx(ze,{checked:l,onChange:p=>T(t,p),checkedChildren:"ÂêØÁî®",unCheckedChildren:"Á¶ÅÁî®"})},{title:"ÂàõÂª∫Êó∂Èó¥",dataIndex:"createdAt",key:"createdAt",width:140,sorter:(l,t)=>D(l.createdAt).unix()-D(t.createdAt).unix(),render:l=>e.jsx("div",{style:{fontSize:12},children:D(l).format("YYYY-MM-DD HH:mm")})},{title:"ÊúÄÂêéÊõ¥Êñ∞",dataIndex:"updatedAt",key:"updatedAt",width:140,sorter:(l,t)=>D(l.updatedAt).unix()-D(t.updatedAt).unix(),render:l=>e.jsx("div",{style:{fontSize:12},children:D(l).format("YYYY-MM-DD HH:mm")})},{title:"Êìç‰Ωú",key:"actions",width:150,render:l=>e.jsxs(Y,{size:"small",children:[e.jsx(E,{type:"link",size:"small",icon:e.jsx(Me,{}),onClick:()=>r(`/templates/edit/${l.id}`),children:"ÁºñËæë"}),e.jsx(ee,{title:"Á°ÆËÆ§Âà†Èô§",description:e.jsxs("div",{children:[e.jsxs("div",{children:["Á°ÆÂÆöË¶ÅÂà†Èô§Ê®°Êùø ",e.jsx("strong",{children:l.name.zh})," ÂêóÔºü"]}),e.jsx("div",{style:{color:"#ff4d4f",fontSize:12,marginTop:4},children:"Ê≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç"})]}),onConfirm:()=>d(l),okText:"Á°ÆËÆ§Âà†Èô§",cancelText:"ÂèñÊ∂à",okButtonProps:{danger:!0},children:e.jsx(E,{type:"link",size:"small",danger:!0,icon:e.jsx(te,{}),children:"Âà†Èô§"})})]})}];return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx(vr,{level:3,style:{margin:0},children:"Ê®°ÊùøÁÆ°ÁêÜ"}),e.jsx(E,{type:"primary",icon:e.jsx(G,{}),onClick:()=>r("/templates/new"),size:"large",children:"Êñ∞Â¢ûÊ®°Êùø"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:{display:"flex",gap:16,alignItems:"center"},children:e.jsx(jr,{placeholder:"ÊêúÁ¥¢Ê®°ÊùøÂêçÁß∞„ÄÅÊèèËø∞ÊàñÂàÜÁ±ª",style:{width:300},onSearch:i,onChange:l=>i(l.target.value),allowClear:!0})}),e.jsxs("div",{style:{color:"#666",fontSize:14},children:["ÂÖ± ",c.length," ‰∏™Ê®°Êùø ÔºàÂêØÁî® ",c.filter(l=>l.isActive).length," ‰∏™Ôºâ"]})]})]}),e.jsx(C,{children:e.jsx(Le,{columns:m,dataSource:c,rowKey:"id",pagination:{...tt,total:c.length,showTotal:(l,t)=>`Á¨¨ ${t[0]}-${t[1]} Êù°ÔºåÂÖ± ${l} Êù°`}})})]})},{Title:Ir}=z,{TextArea:Ee}=M,Ae=()=>{const[r]=_.useForm(),s=H(),{id:o}=Pe(),n=!!o,{addTemplate:a,updateTemplate:i,getTemplate:c}=F(),[d,T]=x.useState(!1),[m,l]=x.useState("zh"),[t,p]=x.useState(null);x.useEffect(()=>{if(n&&o){const h=c(o);h?(p(h),r.setFieldsValue({...h,name:h.name[m],description:h.description[m],content:h.content[m]})):(I.error("Ê®°Êùø‰∏çÂ≠òÂú®"),s("/templates"))}else r.setFieldsValue({category:U.TEMPLATE.CATEGORY,isActive:U.TEMPLATE.IS_ACTIVE})},[n,o,c,r,s,m]),x.useEffect(()=>{t&&r.setFieldsValue({name:t.name[m],description:t.description[m],content:t.content[m]})},[m,t,r]);const f=(h,v)=>({...v||{zh:"",en:"",ar:""},[m]:h||""}),S=async h=>{T(!0);try{const v={name:f(h.name,t==null?void 0:t.name),description:f(h.description,t==null?void 0:t.description),content:f(h.content,t==null?void 0:t.content)},w={category:h.category,isActive:h.isActive,...v};await new Promise(N=>setTimeout(N,1e3)),n&&t?(i(t.id,w),I.success("Êõ¥Êñ∞ÊàêÂäü")):(a(w),I.success("ÂàõÂª∫ÊàêÂäü")),s("/templates")}catch(v){I.error(n?"Êõ¥Êñ∞Â§±Ë¥•":"ÂàõÂª∫Â§±Ë¥•"),console.error("Submit error:",v)}finally{T(!1)}};return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:24},children:e.jsxs(Y,{children:[e.jsx(E,{icon:e.jsx(Oe,{}),onClick:()=>s("/templates"),children:"ËøîÂõûÂàóË°®"}),e.jsx(Ir,{level:3,style:{margin:0},children:n?"ÁºñËæëÊ®°Êùø":"Êñ∞Â¢ûÊ®°Êùø"})]})}),e.jsx(C,{children:e.jsxs(_,{form:r,layout:"vertical",onFinish:S,scrollToFirstError:!0,children:[e.jsxs(X,{gutter:24,children:[e.jsx($,{xs:24,lg:8,children:e.jsxs(C,{title:"Âü∫Êú¨‰ø°ÊÅØ",size:"small",children:[e.jsx(_.Item,{name:"category",label:"ÂàÜÁ±ª",rules:[g.REQUIRED],children:e.jsx(K,{options:et})}),e.jsx(_.Item,{name:"isActive",label:"Áä∂ÊÄÅ",valuePropName:"checked",children:e.jsx(ze,{checkedChildren:"ÂêØÁî®",unCheckedChildren:"Á¶ÅÁî®"})})]})}),e.jsx($,{xs:24,lg:16,children:e.jsxs(C,{title:"Â§öËØ≠Ë®Ä‰ø°ÊÅØ",size:"small",extra:e.jsx(st,{activeLanguage:m,onChange:l}),children:[e.jsx(_.Item,{name:"name",label:"Ê®°ÊùøÂêçÁß∞",rules:[g.REQUIRED,{max:g.MAX_LENGTH.TEMPLATE_NAME,message:`ÊúÄÂ§ö${g.MAX_LENGTH.TEMPLATE_NAME}‰∏™Â≠óÁ¨¶`}],children:e.jsx(M,{placeholder:"ËæìÂÖ•Ê®°ÊùøÂêçÁß∞",maxLength:g.MAX_LENGTH.TEMPLATE_NAME})}),e.jsx(_.Item,{name:"description",label:"Ê®°ÊùøÊèèËø∞",rules:[g.REQUIRED,{max:g.MAX_LENGTH.TEMPLATE_DESCRIPTION,message:`ÊúÄÂ§ö${g.MAX_LENGTH.TEMPLATE_DESCRIPTION}‰∏™Â≠óÁ¨¶`}],children:e.jsx(Ee,{rows:3,placeholder:"ËæìÂÖ•Ê®°ÊùøÊèèËø∞",showCount:!0,maxLength:g.MAX_LENGTH.TEMPLATE_DESCRIPTION})}),e.jsx(_.Item,{name:"content",label:"Ê®°ÊùøÂÜÖÂÆπ",rules:[g.REQUIRED,{max:g.MAX_LENGTH.TEMPLATE_CONTENT,message:`ÊúÄÂ§ö${g.MAX_LENGTH.TEMPLATE_CONTENT}‰∏™Â≠óÁ¨¶`}],children:e.jsx(Ee,{rows:12,placeholder:"ËæìÂÖ•Ê®°ÊùøÂÜÖÂÆπ...",showCount:!0,maxLength:g.MAX_LENGTH.TEMPLATE_CONTENT})})]})})]}),e.jsx(De,{}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs(Y,{children:[e.jsx(E,{size:"large",onClick:()=>s("/templates"),children:"ÂèñÊ∂à"}),e.jsx(E,{type:"primary",htmlType:"submit",loading:d,size:"large",icon:e.jsx($e,{}),children:d?"‰øùÂ≠ò‰∏≠...":n?"Êõ¥Êñ∞Ê®°Êùø":"ÂàõÂª∫Ê®°Êùø"})]})})]})})]})},{Title:br,Text:me}=z,_r=()=>{const{config:r,updateConfig:s}=F(),[o,n]=x.useState(!1),[a,i]=x.useState(""),[c,d]=x.useState(""),T=p=>new Promise(f=>{setTimeout(()=>{const S=URL.createObjectURL(p);f(S)},1e3)}),m=async p=>{const{file:f,onSuccess:S,onError:h}=p;try{if(!V.ACCEPTED_IMAGE_TYPES.includes(f.type)){I.error("Âè™ËÉΩ‰∏ä‰º† JPG/PNG/GIF/WebP Ê†ºÂºèÁöÑÂõæÁâáÔºÅ"),h(new Error("Invalid file type"));return}if(!(f.size<=V.MAX_FILE_SIZE)){I.error("ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá 5MBÔºÅ"),h(new Error("File too large"));return}const N=await T(f),B=[...r.defaultAvatars,N];s({defaultAvatars:B}),I.success("Â§¥ÂÉè‰∏ä‰º†ÊàêÂäü"),S({url:N},f)}catch(v){console.error("Upload failed:",v),I.error("‰∏ä‰º†Â§±Ë¥•"),h(v)}},l=p=>{const f=r.defaultAvatars.filter(S=>S!==p);s({defaultAvatars:f}),I.success("Âà†Èô§ÊàêÂäü")},t=p=>{i(p),d("ÈªòËÆ§Â§¥ÂÉèÈ¢ÑËßà"),n(!0)};return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(br,{level:3,style:{margin:0},children:"ÈÄöÁî®ÈÖçÁΩÆ"}),e.jsx(me,{type:"secondary",children:"ÁÆ°ÁêÜÁ≥ªÁªüÁöÑÈÄöÁî®ÈÖçÁΩÆ‰ø°ÊÅØ"})]}),e.jsxs(C,{title:"ÈªòËÆ§Â§¥ÂÉèÁÆ°ÁêÜ",style:{marginBottom:24},children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(Ne,{customRequest:m,showUploadList:!1,accept:V.ACCEPTED_IMAGE_TYPES.join(","),children:e.jsx(E,{type:"primary",icon:e.jsx(G,{}),children:"‰∏ä‰º†Êñ∞Â§¥ÂÉè"})}),e.jsx(me,{type:"secondary",style:{marginLeft:12},children:"ÊîØÊåÅ JPG„ÄÅPNG„ÄÅGIF„ÄÅWebP Ê†ºÂºèÔºåÂ§ßÂ∞è‰∏çË∂ÖËøá 5MB"})]}),e.jsx("div",{style:{border:"1px solid #f0f0f0",borderRadius:8,padding:16,minHeight:200,backgroundColor:"#fafafa"},children:r.defaultAvatars.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#999"},children:[e.jsx(G,{style:{fontSize:48,marginBottom:16}}),e.jsx("div",{children:"ÊöÇÊó†ÈªòËÆ§Â§¥ÂÉè"}),e.jsx("div",{style:{fontSize:12,marginTop:8},children:"ÁÇπÂáª‰∏äÊñπÊåâÈíÆ‰∏ä‰º†Â§¥ÂÉè"})]}):e.jsx(X,{gutter:[16,16],children:r.defaultAvatars.map((p,f)=>e.jsx($,{xs:12,sm:8,md:6,lg:4,children:e.jsx(C,{hoverable:!0,size:"small",cover:e.jsx("div",{style:{height:120,background:`url(${p}) center/cover`,borderRadius:"8px 8px 0 0"}}),actions:[e.jsx(E,{type:"text",icon:e.jsx(ke,{}),onClick:()=>t(p)},"preview"),e.jsx(ee,{title:"Á°ÆËÆ§Âà†Èô§",description:"Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ÈªòËÆ§Â§¥ÂÉèÂêóÔºü",onConfirm:()=>l(p),okText:"Á°ÆËÆ§",cancelText:"ÂèñÊ∂à",children:e.jsx(E,{type:"text",danger:!0,icon:e.jsx(te,{})})},"delete")],children:e.jsx(C.Meta,{title:`Â§¥ÂÉè ${f+1}`,description:e.jsx(me,{type:"secondary",style:{fontSize:12},children:"ÈªòËÆ§Â§¥ÂÉè"})})})},f))})}),e.jsxs("div",{style:{marginTop:16,padding:12,backgroundColor:"#f6f8fa",borderRadius:6,fontSize:12,color:"#666"},children:[e.jsx("div",{style:{marginBottom:4},children:e.jsx("strong",{children:"ËØ¥ÊòéÔºö"})}),e.jsx("div",{children:"‚Ä¢ ÈªòËÆ§Â§¥ÂÉèÂ∞ÜÂú®ÂàõÂª∫AIËßíËâ≤Êó∂‰Ωú‰∏∫Â§¥ÂÉèÈÄâÈ°πÊèê‰æõ"}),e.jsx("div",{children:"‚Ä¢ Âª∫ËÆÆ‰∏ä‰º†Â∞∫ÂØ∏‰∏∫ 150x150 ÂÉèÁ¥†ÁöÑÊ≠£ÊñπÂΩ¢ÂõæÁâá"}),e.jsxs("div",{children:["‚Ä¢ ÂΩìÂâçÈªòËÆ§Â§¥ÂÉèÊï∞ÈáèÔºö",r.defaultAvatars.length]})]})]}),e.jsx(ge,{open:o,title:c,footer:null,onCancel:()=>n(!1),children:e.jsx("img",{alt:"preview",style:{width:"100%"},src:a})})]})},{Title:Er,Text:Se}=z,Ar=()=>e.jsxs("div",{children:[e.jsx(Er,{level:2,children:"ÊµãËØïÈ°µÈù¢"}),e.jsxs(C,{children:[e.jsx(Se,{children:"ËøôÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊµãËØïÈ°µÈù¢ÔºåÁî®Êù•È™åËØÅË∑ØÁî±ÊòØÂê¶Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ"}),e.jsx("br",{}),e.jsx(Se,{type:"secondary",children:"Â¶ÇÊûúÊÇ®ËÉΩÁúãÂà∞Ëøô‰∏™È°µÈù¢ÔºåËØ¥ÊòéË∑ØÁî±ÈÖçÁΩÆÊòØÊ≠£Á°ÆÁöÑ„ÄÇ"})]})]}),{Title:we,Text:Sr}=z,wr=()=>{const r=H();return e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:24},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx(we,{level:3,style:{margin:0},children:"AIËßíËâ≤ÁÆ°ÁêÜÔºàÁÆÄÂåñÁâàÔºâ"}),e.jsx(E,{type:"primary",icon:e.jsx(G,{}),onClick:()=>r("/characters/new"),size:"large",children:"Êñ∞Â¢ûAIËßíËâ≤"})]})}),e.jsx(C,{children:e.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[e.jsx(J,{style:{fontSize:48,marginBottom:16,color:"#1890ff"}}),e.jsxs("div",{children:[e.jsx(we,{level:4,children:"ÁÆÄÂåñÁöÑËßíËâ≤ÂàóË°®È°µÈù¢"}),e.jsx(Sr,{type:"secondary",children:"ËøôÊòØ‰∏Ä‰∏™‰∏ç‰æùËµñÊï∞ÊçÆ‰∏ä‰∏ãÊñáÁöÑÁÆÄÂåñÁâàÊú¨ÔºåÁî®‰∫éÊµãËØïË∑ØÁî±ÊòØÂê¶Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ"})]}),e.jsx("div",{style:{marginTop:24},children:e.jsxs(Y,{children:[e.jsx(E,{onClick:()=>r("/test"),children:"ÊµãËØïÈ°µÈù¢"}),e.jsx(E,{onClick:()=>r("/config"),children:"ÈÄöÁî®ÈÖçÁΩÆ"}),e.jsx(E,{type:"primary",ghost:!0,onClick:()=>r("/characters"),children:"ÂÆåÊï¥ËßíËâ≤ÂàóË°®"})]})})]})})]})};I.config({top:100,duration:3,maxCount:3});const O=({children:r})=>{const{isAuthenticated:s}=de();return s?e.jsx(ar,{children:r}):e.jsx(Q,{to:"/login",replace:!0})},Cr=({children:r})=>{const{isAuthenticated:s}=de();return s?e.jsx(Q,{to:"/simple",replace:!0}):e.jsx(e.Fragment,{children:r})};function Pr(){return e.jsx(Kt,{children:e.jsx(mr,{children:e.jsxs(lt,{children:[e.jsx(L,{path:"/login",element:e.jsx(Cr,{children:e.jsx(Zt,{})})}),e.jsx(L,{path:"/",element:e.jsx(Q,{to:"/simple",replace:!0})}),e.jsx(L,{path:"/test",element:e.jsx(O,{children:e.jsx(Ar,{})})}),e.jsx(L,{path:"/simple",element:e.jsx(O,{children:e.jsx(wr,{})})}),e.jsx(L,{path:"/characters",element:e.jsx(O,{children:e.jsx(fr,{})})}),e.jsx(L,{path:"/characters/new",element:e.jsx(O,{children:e.jsx(_e,{})})}),e.jsx(L,{path:"/characters/edit/:id",element:e.jsx(O,{children:e.jsx(_e,{})})}),e.jsx(L,{path:"/templates",element:e.jsx(O,{children:e.jsx(Tr,{})})}),e.jsx(L,{path:"/templates/new",element:e.jsx(O,{children:e.jsx(Ae,{})})}),e.jsx(L,{path:"/templates/edit/:id",element:e.jsx(O,{children:e.jsx(Ae,{})})}),e.jsx(L,{path:"/config",element:e.jsx(O,{children:e.jsx(_r,{})})}),e.jsx(L,{path:"*",element:e.jsx(Q,{to:"/simple",replace:!0})})]})})})}xe.createRoot(document.getElementById("root")).render(e.jsx(Ce.StrictMode,{children:e.jsx(ct,{children:e.jsx(It,{locale:qt,children:e.jsx(Pr,{})})})}));
